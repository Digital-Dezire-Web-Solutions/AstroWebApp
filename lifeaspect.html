<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Life Aspect</title>
    <style>
        table {
            width: 60%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        table,
        th,
        td {
            border: 1px solid black;
        }

        th,
        td {
            padding: 10px;
            text-align: center;
        }

        th {
            background-color: #f4f4f4;
        }

        h2 {
            text-align: center;
        }
    </style>
</head>

<body>
    <h2>Life Aspect ( Sparsh / Vedh )</h2>
    <!-- <label for="vowelDropdown">Choose a vowel:</label>
    <select id="vowelDropdown">
        <option value="" disabled selected>Select</option>
        <option value="a">A</option>
        <option value="e">E</option>
        <option value="i">I</option>
        <option value="o">O</option>
        <option value="u">U</option>
    </select>
    <label for="astrologyLetter">Choose an Astrological Letter:</label> -->

    <!-- <select id="astrologyLetter">
        <option value="na">Na</option>
        <option value="ne">Ne</option>
        <option value="nu">Nu</option>
        <option value="ni">Ni</option>
        <option value="ma">Ma</option>
        <option value="me">Me</option>
        <option value="mu">Mu</option>
        <option value="mi">Mi</option>
        <option value="pa">Pa</option>
        <option value="pe">Pe</option>
        <option value="pu">Pu</option>
        <option value="pi">Pi</option>
        <option value="ta">Ta</option>
        <option value="te">Te</option>
        <option value="tu">Tu</option>
        <option value="ti">Ti</option>
        <option value="ka">Ka</option>
        <option value="ke">Ke</option>
        <option value="ku">Ku</option>
        <option value="ki">Ki</option>
        <option value="da">Da</option>
        <option value="de">De</option>
        <option value="du">Du</option>
        <option value="di">Di</option>
        <option value="ra">Ra</option>
        <option value="re">Re</option>
        <option value="ru">Ru</option>
        <option value="ri">Ri</option>
        <option value="sa">Sa</option>
        <option value="se">Se</option>
        <option value="su">Su</option>
        <option value="si">Si</option>
        <option value="ha">Ha</option>
        <option value="he">He</option>
        <option value="hu">Hu</option>
        <option value="hi">Hi</option>
    </select> -->

    <!-- <p id="selectedLetter" style="margin-top: 20px;">Selected Letter: None</p> -->
    <!-- <p id="selectedVowel"></p> -->

    <table id="planetTithiVedhTable">
        <thead>
            <tr>
                <th> </th>
                <th>Aspect</th>
                <th>Sparsh</th>
                <th>Vedh</th>
            </tr>
        </thead>
        <tbody>
            <!-- Rows will be dynamically populated here -->
        </tbody>
    </table>

    <script>
        // Get the dropdown element and output paragraph
        // const letterdropdown = document.getElementById('astrologyLetter');
        // const voweldropdown = document.getElementById('vowelDropdown');
        // const selectedletterText = document.getElementById('selectedLetter');
        // const selectedVowelText = document.getElementById('selectedVowel');

        // let vowelletter = [];
        // let consonentletter = [];

        // // Add event listener to detect changes in dropdown selection
        // letterdropdown.addEventListener('change', function () {
        //     const selected = letterdropdown.value;
        //     selectedletterText.textContent = `Selected Letter: ${selected}`;
        //     consonentletter = selected
        // });
        // voweldropdown.addEventListener('change', function () {
        //     const selectedVowel = voweldropdown.value;
        //     selectedVowelText.textContent = `You selected: ${selectedVowel.toUpperCase()}`;
        //     vowelletter = selectedVowel;
        // });

        // console.log(consonentletter, "selectedletterText")
        // console.log(vowelletter, "selectedVowelText")


        const horoscopeData = JSON.parse(localStorage.getItem("horoscopeData"));
        const tithiVedhTable = {
            'Ashvini': { front: '-', right: '-', left: '-' },
            'Bharani': { front: '-', right: '3,4,8,9,13,14', left: '-' },
            'Krittika': { front: '-', right: '1,2,6,7,11,12', left: '-' },
            'Rohini': { front: '-', right: '-', left: '-' },
            'Mrigashira': { front: '4,9,14', right: '-', left: '-' },
            'Ardra': { front: '1,6,11,5,10,15,3,8,13', right: '-', left: '-' },
            'Punarvasu': { front: '2,7,12', right: '-', left: '-' },
            'Pushya': { front: '-', right: '-', left: '-' },
            'Ashlesha': { front: '-', right: '1,6,11,4,9,14', left: '-' },
            'Magha': { front: '-', right: '-', left: '2,7,12,3,8,13' },
            'PurvaPhalguni': { front: '-', right: '-', left: '-' },
            'UttaraPhalguni': { front: '1,6,11', right: '-', left: '-' },
            'Hasta': { front: '4,9,14,5,10,15,2,7,12', right: '-', left: '-' },
            'Chitra': { front: '3,8,13', right: '-', left: '-' },
            'Svati': { front: '-', right: '-', left: '-' },
            'Vishakha': { front: '-', right: '1,6,11,2,7,12', left: '-' },
            'Anuradha': { front: '-', right: '-', left: '3,4,8,9,13,14' },
            'Jyeshtha': { front: '-', right: '-', left: '-' },
            'Mula': { front: '2,7,12', right: '-', left: '-' },
            'PurvaShadha': { front: '1,6,11,5,10,15,3,8,13', right: '-', left: '-' },
            'Uttara Ashadha': { front: '4,9,14', right: '-', left: '-' },
            'Sravana': { front: '-', right: '2,7,12,3,8,13', left: '-' },
            'Dhanista': { front: '-', right: '-', left: '1,6,11,4,9,14' },
            'Shatabhisaj': { front: '-', right: '-', left: '-' },
            'Purva Bhadrapada': { front: '3,8,13', right: '-', left: '-' },
            'Uttara Bhadrapada': { front: '4,9,14,5,10,15,2,7,12', right: '-', left: '-' },
            'Revati': { front: '1,6,11', right: '-', left: '-' }
        };

        const daysVedhTable = {
            'Ashvini': { front: '-', right: '-', left: '-' },
            'Bharani': { front: '-', right: 'Friday, Thursday', left: '-' },
            'Krittika': { front: '-', right: 'Sunday, Tuesday, Monday, Wednesday', left: '-' },
            'Rohini': { front: '-', right: '-', left: '-' },
            'Mrigashira': { front: 'Friday', right: '-', left: '-' },
            'Ardra': { front: 'Sunday, Tuesday, Saturday, Thursday', right: '-', left: '-' },
            'Punarvasu': { front: 'Monday, Wednesday', right: '-', left: '-' },
            'Pushya': { front: '-', right: '-', left: '-' },
            'Ashlesha': { front: '-', right: 'Sunday, Tuesday, Friday', left: '-' },
            'Magha': { front: '-', right: '-', left: 'Monday, Wednesday, Thursday' },
            'Purva Phalguni': { front: '-', right: '-', left: '-' },
            'UttaraPhalguni': { front: 'Sunday, Tuesday', right: '-', left: '-' },
            'Hasta': { front: 'Monday, Wednesday, Friday, Saturday', right: '-', left: '-' },
            'Chitra': { front: 'Thursday', right: '-', left: '-' },
            'Svati': { front: '-', right: '-', left: '-' },
            'Vishakha': { front: '-', right: 'Sunday, Monday, Tuesday, Wednesday', left: '-' },
            'Anuradha': { front: '-', right: '-', left: 'Friday, Thursday' },
            'Jyeshtha': { front: '-', right: '-', left: '-' },
            'Mula': { front: 'Monday, Wednesday', right: '-', left: '-' },
            'PurvaShadha': { front: 'Sunday, Tuesday, Saturday, Thursday', right: '-', left: '-' },
            'Uttara Ashadha': { front: 'Sunday, Tuesday, Saturday, Thursday', right: '-', left: '-' },
            'Sravana': { front: '-', right: 'Monday, Wednesday, Thursday', left: '-' },
            'Dhanista': { front: '-', right: '-', left: 'Sunday, Tuesday, Friday' },
            'Shatabhisaj': { front: '-', right: '-', left: '-' },
            'Purva Bhadrapada': { front: 'Thursday', right: '-', left: '-' },
            'Uttara Bhadrapada': { front: 'Monday, Wednesday, Friday, Saturday', right: '-', left: '-' },
            'Revati': { front: 'Sunday, Tuesday', right: '-', left: '-' }
        };

        const nakshatraToRashiVedh = {
            'Ashvini': { front: 'Taurus, Gemini, Cancer', right: 'Pisces, Sagittarius', left: '-' },
            'Bharani': { front: '-', right: 'Aries, Scorpio', left: '-' },
            'Krittika': { front: '-', right: 'Taurus, Libra', left: '-' },
            'Rohini': { front: 'Aquarius, Pisces, Aries', right: 'Gemini, Virgo', left: '-' },
            'Mrigashira': { front: 'Taurus, Capricorn', right: '-', left: 'Cancer, Leo' },
            'Ardra': { front: 'Gemini, Sagittarius', right: '-', left: '-' },
            'Punarvasu': { front: 'Cancer, Scorpio', right: 'Aries, Taurus', left: '-' },
            'Pushya': { front: 'Leo, Virgo, Libra', right: 'Gemini, Pisces', left: '-' },
            'Ashlesha': { front: '-', right: 'Cancer, Aquarius', left: '-' },
            'Magha': { front: '-', right: '-', left: 'Leo, Capricorn' },
            'Purva Phalguni': { front: 'Taurus, Gemini, Cancer', right: '-', left: 'Virgo, Sagittarius' },
            'UttaraPhalguni': { front: 'Aries, Leo', right: '-', left: 'Libra, Scorpio' },
            'Hasta': { front: 'Virgo, Pisces', right: '-', left: '-' },
            'Chitra': { front: 'Libra, Aquarius', right: 'Cancer, Leo', left: '-' },
            'Svati': { front: 'Scorpio, Sagittarius, Capricorn', right: 'Gemini, Virgo', left: '-' },
            'Vishakha': { front: '-', right: 'Taurus, Libra', left: '-' },
            'Anuradha': { front: '-', right: '-', left: 'Aries, Scorpio' },
            'Jyeshtha': { front: 'Leo, Virgo, Libra', right: '-', left: 'Pisces, Sagittarius' },
            'Mula': { front: 'Cancer, Scorpio', right: '-', left: '-' },
            'PurvaShadha': { front: 'Gemini, Sagittarius', right: '-', left: '-' },
            'Uttara Ashadha': { front: 'Taurus, Capricorn', right: 'Libra, Scorpio', left: '-' },
            'Sravana': { front: '-', right: 'Leo, Capricorn', left: '-' },
            'Dhanista': { front: '-', right: '-', left: 'Cancer, Aquarius' },
            'Shatabhisaj': { front: 'Scorpio, Sagittarius, Capricorn', right: '-', left: 'Gemini, Pisces' },
            'Purva Bhadrapada': { front: 'Libra, Aquarius', right: '-', left: 'Aries, Taurus' },
            'Uttara Bhadrapada': { front: 'Virgo, Pisces', right: '-', left: '-' },
            'Revati': { front: 'Aries, Leo', right: '-', left: '-' }
        };

        const letterTable = {
            'Ashvini': { front: 'La, lri, lree, Ma', right: 'Cha, Aha, Ya', left: 'oo' },
            'Bharani': { front: 'oo, A, Va, Ka, Ha, Da, OO', right: 'La, Na', left: '-' },
            'Krittika': { front: 'oo, La, Cha, Dha, Sa, Ga, Ree', right: '-', left: 'A, Tha' },
            'Rohini': { front: 'A, Lri, Ae, Kha', right: 'oo', left: 'Va, Ou, Ra' },
            'Mrigashira': { front: 'Va, O, Ja, Aha', right: 'A, La', left: 'Ka, Pa' },
            'Ardra': { front: 'Ka, Bha', right: 'Va, Lri, Cha', left: 'Ha, Lree, Ta' },
            'Punarvasu': { front: 'Ha, Ou, Am, Ya', right: 'Ka, Dha', left: 'Da, Ma' },
            'Pushya': { front: 'Da, Lree, Ae, Na', right: 'Ha, O, SA', left: 'OO' },
            'Ashlesha': { front: 'OO, Ma, Ta, Pa, Ra, Tha, Re', right: 'Da, Ga', left: 'AA' },
            'Magha': { front: 'oo, OO, A, Va, Ka, Ha, Da', right: '-', left: 'Ma, Kha' },
            'Purva Phalguni': { front: 'Ma, Lree, Lri, Ra', right: 'OO', left: 'Ta, Am, Ja' },
            'UttaraPhalguni': { front: 'Tau, O, Ou, Cha', right: 'Ma, Da', left: 'Pa, Bha' },
            'Hasta': { front: 'Pa, Dha', right: 'Ta, Lree, Ha', left: 'Ra, Ae, Ya' },
            'Chitra': { front: 'Ra, Sa', right: 'Pa, Ka', left: 'Tha, Na' },
            'Svati': { front: 'Ga, Aei, Ae, Tha', right: 'Ra, ou, Va', left: 'Re' },
            'Vishakha': { front: 'Ree, Kha, Ja, Bha, Ya, Na, Re', right: 'Tha, A', left: 'E' },
            'Anuradha': { front: 'OO, Ma, Ta, Pa, Ra, Tha, Re', right: 'E', left: 'La, Na' },
            'Jyeshtha': { front: 'Da, Lree, Ae, Na', right: 'Re', left: 'Cha, Aha, Ya' },
            'Mula': { front: 'Ha, Ou, Am, Ya', right: 'Tha, Na', left: 'Bha, Dha' },
            'PurvaShadha': { front: 'Ka, Bha', right: 'Ra, Ae, Ya', left: 'Sa, Aei, Ja' },
            'Uttara Ashadha': { front: 'Va, O, Ja, Aha', right: 'Pa, Bha', left: 'Ga, Kha' },
            'Sravana': { front: 'oo, La, Cha, Dha, Sa, Ga, Ree', right: 'Ma, Kha', left: 'EE' },
            'Dhanista': { front: 'Ree, Kha, Ja, Bha, Ya, Na, Re', right: '-', left: 'Da, Ga' },
            'Shatabhisaj': { front: 'Ga, Aei, Ae, Tha', right: 'Ree', left: 'Ha, O, SA' },
            'Purva Bhadrapada': { front: 'Ra, Sa', right: '-', left: 'Ka, Dha' },
            'Uttara Bhadrapada': { front: 'Pa, Dha', right: 'Sa, Aei, Ja', left: 'Va, Lri, Cha' },
            'Revati': { front: 'Tau, O, Ou, Cha', right: 'Bha, Dha', left: 'A, La' }
        };

        // nakshatra
        const vedhTables = {
            right: {
                'Ashvini': 'Jyeshtha',
                'Bharani': 'Anuradha',
                'Krittika': 'Bharani',
                'Rohini': 'Ashvini',
                'Mrigashira': 'Revati',
                'Ardra': 'UttaraBhadrapada',
                'Punarvasu': 'PurvaBhadrapada',
                'Pushya': 'Shatabhisaj',
                'Ashlesha': 'Dhanistha',
                'Magha': 'Ashlesha',
                'PurvaPhalguni': 'Pushya',
                'UttaraPhalguni': 'Punarvasu',
                'Hasta': 'Ardra',
                'Chitra': 'Mrigashira',
                'Svati': 'Rohini',
                'Vishakha': 'Krittika',
                'Anuradha': 'Vishakha',
                'Jyeshtha': 'Svati',
                'Mula': 'Chitra',
                'PurvaShadha': 'Hasta',
                'UttaraAshadha': 'UttaraPhalguni',
                'Sravana': 'Magha',
                'Dhanista': 'Sravana',
                'Shatabhisaj': 'Abhijit',
                'PurvaBhadrapada': 'UttaraAshadha',
                'UttaraBhadrapada': 'PurvaShadha',
                'Revati': 'Mula',
                'Abhijit': 'Purva Phalguni'
            },
            left: {
                'Ashvini': 'Rohini',
                'Bharani': 'Krittika',
                'Krittika': 'Vishakha',
                'Rohini': 'Svati',
                'Mrigashira': 'Chitra',
                'Ardra': 'Hasta',
                'Punarvasu': 'UttaraPhalguni',
                'Pushya': 'PurvaPhalguni',
                'Ashlesha': 'Magha',
                'Magha': 'Sravana',
                'PurvaPhalguni': 'Abhijit',
                'UttaraPhalguni': 'UttaraAshadha',
                'Hasta': 'PurvaShadha',
                'Chitra': 'Mula',
                'Svati': 'Jyeshtha',
                'Vishakha': 'Anuradha',
                'Anuradha': 'Bharani',
                'Jyeshtha': 'Ashvini',
                'Mula': 'Revati',
                'PurvaShadha': 'UttaraBhadrapada',
                'UttaraAshadha': 'PurvaBhadrapada',
                'Sravana': 'Dhanista',
                'Dhanista': 'Ashlesha',
                'Shatabhisaj': 'Pushya',
                'PurvaBhadrapada': 'Punarvasu',
                'UttaraBhadrapada': 'Ardra',
                'Revati': 'Mrigashira',
                'Abhijit': 'Shatabhisaj'
            },
            front: {
                'Ashvini': 'PurvaPhalguni',
                'Bharani': 'Magha',
                'Krittika': 'Sravana',
                'Rohini': 'Abhijit',
                'Mrigashira': 'UttaraAshadha',
                'Ardra': 'PurvaShadha',
                'Punarvasu': 'Mula',
                'Pushya': 'Jyeshtha',
                'Ashlesha': 'Anuradha',
                'Magha': 'Bharani',
                'PurvaPhalguni': 'Ashvini',
                'UttaraPhalguni': 'Revati',
                'Hasta': 'UttaraBhadrapada',
                'Chitra': 'PurvaBhadrapada',
                'Svati': 'Shatabhisaj',
                'Vishakha': 'Dhanista',
                'Anuradha': 'Ashlesha',
                'Jyeshtha': 'Pushya',
                'Mula': 'Punarvasu',
                'PurvaShadha': 'Ardra',
                'UttaraAshadha': 'Mrigashira',
                'Sravana': 'Krittika',
                'Dhanista': 'Vishakha',
                'Shatabhisaj': 'Svati',
                'PurvaBhadrapada': 'Chitra',
                'UttaraBhadrapada': 'Hasta',
                'Revati': 'UttaraPhalguni',
                'Abhijit': 'Rohini'
            }
        };

        // Define Life Aspects and Pada Details
        const lifeAspectsList = [
            { aspect: "Danger to native and death", pada: ["Aggressive challenges", "Emotional instability", "Physical risks", "Mental challenges"] },
            { aspect: "Wealth and prosperity", pada: ["Initial growth", "Steady accumulation", "High expenses", "Wealth consolidation"] },
            { aspect: "Accident", pada: ["Physical injuries", "Financial losses", "Health setbacks", "Emotional trauma"] },
            { aspect: "Happiness and prosperity", pada: ["Domestic peace", "Financial harmony", "Relationship gains", "Career success"] },
            { aspect: "Loss of business and obstacles", pada: ["Delays", "Setbacks", "Opportunities missed", "Partial success after effort"] },
            { aspect: "Success in effort", pada: ["Hard work pays off", "Collaboration helps", "Focus needed", "Overcoming hurdles"] },
            { aspect: "Sudden death and loss", pada: ["Unexpected health risks", "Relationship losses", "Financial instability", "Isolation risks"] },
            { aspect: "Financial gains & success through friends", pada: ["Strong friendships", "Business partnerships", "Gains through associates", "Networking success"] },
            { aspect: "Financial gains & success through intimate friends", pada: ["Trust issues resolved", "Deep connections help", "Sudden financial help", "Stable gains"] },
            { aspect: "Disputes, suffering, and unhappiness", pada: ["Relationship struggles", "Property disputes", "Emotional turmoil", "Temporary peace"] },
            { aspect: "Wealth & prosperity", pada: ["Rapid growth", "Steady expansion", "Risk-taking leads to gains", "Consolidation of wealth"] },
            { aspect: "Sickness and accident", pada: ["Chronic issues", "Sudden accidents", "Mental stress", "Recovery possible"] },
            { aspect: "Happiness and prosperity", pada: ["Domestic joy", "Financial contentment", "Relational harmony", "Career-based joy"] },
            { aspect: "Loss of business and obstacle", pada: ["Blocked opportunities", "Unexpected losses", "Lack of resources", "Gradual recovery"] },
            { aspect: "Success in efforts depending on effort", pada: ["Strong drive leads to success", "Team efforts prosper", "Requires persistence", "Rewards delayed but sure"] },
            { aspect: "Financial loss & disappointment", pada: ["Unexpected expenses", "Disappointment in investments", "Savings depleted", "Recovery possible"] },
            { aspect: "Financial success & gain through friend", pada: ["Strong alliances", "Mutual benefits", "Strategic gains", "Long-term success"] },
            { aspect: "Sudden setback, malefic results, and harm", pada: ["Career setback", "Health emergencies", "Relationship disruptions", "Loss of stability"] },
            { aspect: "Separation and foreign travel", pada: ["Sudden relocation", "Opportunities abroad", "Difficult transitions", "Success overseas"] },
            { aspect: "Wealth & prosperity", pada: ["Rapid accumulation", "Sustainable growth", "Wealth through ventures", "Legacy creation"] },
            { aspect: "Sickness and accident", pada: ["Risk of chronic illness", "Injury-prone", "Financial health concerns", "Recovery through care"] },
            { aspect: "Happiness and prosperity", pada: ["Domestic bliss", "Financial ease", "Relationship harmony", "Career-based satisfaction"] },
            { aspect: "Disputes, suffering, and unhappiness", pada: ["Miscommunication", "Financial disagreements", "Domestic conflicts", "Partial resolution"] },
            { aspect: "Success in effort", pada: ["Quick wins", "Team efforts yield results", "Persistence pays off", "Strategic success"] },
            { aspect: "Destruction of family & community", pada: ["Family discord", "Loss of unity", "Temporary peace", "Resolution through effort"] },
            { aspect: "Defeat by enemy, property divide", pada: ["Legal issues", "Property disputes", "Emotional turmoil", "Gradual resolution"] },
            { aspect: "Imprisonment, destruction of house", pada: ["Isolation risks", "Property loss", "Emotional struggles", "Path to recovery"] },
            { aspect: "Kingdom", pada: ["Leadership potential", "Political gains", "Wealth through power", "Long-term success"] }
        ];

        const nakshatraList = [
            "Ashvini", "Bharani", "Krittika", "Rohini", "Mrigashira", "Ardra",
            "Punarvasu", "Pushya", "Ashlesha", "Magha", "PurvaPhalguni", "UttaraPhalguni",
            "Hasta", "Chitra", "Svati", "Vishakha", "Anuradha", "Jyeshtha", "Mula",
            "PurvaShadha", "UttaraAshadha", "Sravana", "Dhanista", "Shatabhisaj",
            "Purva Bhadrapada", "UttaraBhadrapada", "Revati", "Abhijit"
        ];

        const sparshPlanets = ["Jupiter", "Venus", "Moon", "Mercury"];
        const vedhPlanets = ["Sun", "Mars", "Saturn", "Rahu", "Ketu"];

        if (horoscopeData && horoscopeData.response) {
            const planetDatas = horoscopeData.response;
            console.log(planetDatas, "planetDatas")

            // Function to map Dasa Details and extract Tithi-related information
            const mapDasaDetails = (data) => ({
                Tithi: data.panchang.tithi,
                Day_of_Birth: data.panchang.day_of_birth,
                Lucky_Letters: data.lucky_letters,
                Lucky_Name_Start: data.lucky_name_start,
                Rasi: data.rasi,
                Nakshatra: data.nakshatra,
                nakshatra_pada: data.nakshatra_pada,
            });

            const dasaDetails = mapDasaDetails(planetDatas);
            const tithi = dasaDetails.Tithi;
            const Day_of_Birth = dasaDetails.Day_of_Birth;
            const Lucky_Letters = dasaDetails.Lucky_Letters[0];
            const Lucky_Name_Start = dasaDetails.Lucky_Name_Start;
            const Rasi = dasaDetails.Rasi;
            const nakshatra1 = dasaDetails.Nakshatra;
            const nakshatra_pada = dasaDetails.nakshatra_pada;

            // Function to map Planet Data
            const mapPlanetData = (data) => {
                if (Array.isArray(data)) {
                    return data.map((planet) => ({
                        name: planet.full_name,
                        nakshatra: planet.nakshatra,
                        pada: planet.nakshatra_pada,
                        tithiLord: tithi,
                    }));
                } else if (typeof data === "object" && data !== null) {
                    return Object.values(data).map((planet) => ({
                        name: planet.full_name,
                        nakshatra: planet.nakshatra,
                        pada: planet.nakshatra_pada,
                        tithiLord: tithi,
                    }));
                } else {
                    console.error("Unexpected data format for planets:", data);
                    return [];
                }
            };

            const planets = mapPlanetData(planetDatas).slice(1, 10);
            // console.log(planets,"planets")

            function populateTable() {
                const tableBody = document.getElementById('planetTithiVedhTable').querySelector('tbody');
                tableBody.innerHTML = '';

                const planetNumberMapping = {
                    "Pratipada": 1,
                    "Dvitiya": 2,
                    "Tritiya": 3,
                    "Chaturthi": 4,
                    "Panchami": 5,
                    "Shashti": 6,
                    "Saptami": 7,
                    "Ashtami": 8,
                    "Navami": 9,
                    "Dasami": 10,
                    "Ekadasi": 11,
                    "Dwadashi": 12,
                    "Trayodashi": 13,
                    "Chaturdashi": 14,
                    "Purnima": 15,
                    "Amavasya": 0
                };

                function vedhPadaMap(currentPada) {
                    switch (currentPada) {
                        case 1: return 4;
                        case 2: return 3;
                        case 3: return 2;
                        case 4: return 1;
                        default: return 'Unknown';
                    }
                }

                // Array to store rashi-related data to display in one row
                const tithiData = [];
                const varData = [];
                const rashiData = [];
                const letterData = [];
                const vowelData = [];
                const nakshatraData = [];
                const lifeAspect = [];
                const sequence = [];
                // Find the index of the Moon's nakshatra
                const startIndex = nakshatraList.indexOf(nakshatra1);
                // console.log(startIndex, "startIndex")

                if (startIndex === -1) {
                    console.error("Nakshatra not found in list");
                    document.getElementById("outputTable").style.display = "none";
                    return;
                }

                // console.log(lifeAspectsList.length, "lifeAspectsList.length")
                // Generate the sequence

                for (let i = 0; i < lifeAspectsList.length; i++) {
                    const nakshatraIndex = (startIndex + i) % nakshatraList.length;
                    sequence.push({
                        position: i + 1,
                        nakshatras: nakshatraList[nakshatraIndex],
                        lifeAspects: lifeAspectsList[i].aspect,
                        padaDetailss: lifeAspectsList[i].pada
                    });
                }

                planets.forEach(({ name, nakshatra, pada, tithiLord }) => {
                    const tithiLordNumber = planetNumberMapping[tithiLord];
                    const vedh = tithiVedhTable[nakshatra] || { front: '-', right: '-', left: '-' };
                    const varDay = daysVedhTable[nakshatra] || { front: '-', right: '-', left: '-' };
                    const rashiDay = nakshatraToRashiVedh[nakshatra] || { front: '-', right: '-', left: '-' };
                    const letterDay = letterTable[nakshatra] || { front: '-', right: '-', left: '-' };
                    const vowelDay = letterTable[nakshatra] || { front: '-', right: '-', left: '-' };
                    const nakshatraDay = {
                        front: vedhTables.front[nakshatra] || '-',
                        right: vedhTables.right[nakshatra] || '-',
                        left: vedhTables.left[nakshatra] || '-'
                    };
                    // console.log(nakshatra, "nakshatra")
                    // console.log(vedhTables.front[nakshatra],"front")
                    // console.log(vedhTables.right[nakshatra],"right")
                    // console.log(vedhTables.left[nakshatra],"left")
                    // console.log(tithiVedhTable[nakshatra],"tithi")
                    // console.log(nakshatraDay, "nakshatraDay")
                    // console.log(letterDay,"letterDay")
                    // Calculate Vedh Padas
                    const frontVedhPada = vedhPadaMap(pada);
                    const rightVedhPada = vedhPadaMap(pada);
                    const leftVedhPada = vedhPadaMap(pada);

                    const frontnakshatra = sequence.find(n => n.nakshatras === nakshatraDay.front);
                    const rightnakshatra = sequence.find(n => n.nakshatras === nakshatraDay.right);
                    const leftnakshatra = sequence.find(n => n.nakshatras === nakshatraDay.left);

                    // Get specific data based on the Vedh Pada value
                    const getPadaDetail = (nakshatraObj, vedhPada) => {
                        if (nakshatraObj && nakshatraObj.padaDetailss && Array.isArray(nakshatraObj.padaDetailss)) {
                            return nakshatraObj.padaDetailss[vedhPada - 1];
                        }
                        return null;
                    };

                    const lifeAspectData = {
                        planet: name,
                        nakshatra: nakshatra,
                        pada: pada,
                        frontVedh: {
                            nakshatra: nakshatraDay.front,
                            nakshatra1: getPadaDetail(frontnakshatra, frontVedhPada),
                            pada: frontVedhPada,
                        },
                        rightVedh: {
                            nakshatra: nakshatraDay.right,
                            nakshatra1: getPadaDetail(rightnakshatra, rightVedhPada),
                            pada: rightVedhPada,
                        },
                        leftVedh: {
                            nakshatra: nakshatraDay.left,
                            nakshatra1: getPadaDetail(leftnakshatra, leftVedhPada),
                            pada: leftVedhPada,
                        },
                    };

                    if (lifeAspectData) {
                        lifeAspect.push(lifeAspectData);
                    }
                    // console.log(lifeAspectData,"lifeAspectData")

                    // Check which column the tithiLordNumber matches in front, right, or left
                    let matchColumn = '';
                    if (vedh.front.includes(tithiLordNumber)) {
                        matchColumn = 'Front';
                    } else if (vedh.right.includes(tithiLordNumber)) {
                        matchColumn = 'Right';
                    } else if (vedh.left.includes(tithiLordNumber)) {
                        matchColumn = 'Left';
                    }

                    let matchVar = '';
                    if (varDay.front.includes(Day_of_Birth)) {
                        matchVar = 'Front';
                    } else if (varDay.right.includes(Day_of_Birth)) {
                        matchVar = 'Right';
                    } else if (varDay.left.includes(Day_of_Birth)) {
                        matchVar = 'Left';
                    }

                    let matchRashi = '';
                    if (rashiDay.front.includes(Rasi)) {
                        matchRashi = 'Front';
                    } else if (rashiDay.right.includes(Rasi)) {
                        matchRashi = 'Right';
                    } else if (rashiDay.left.includes(Rasi)) {
                        matchRashi = 'Left';
                    }

                    let matchNakshatra = '';
                    if (nakshatraDay.front.includes(nakshatra1)) {
                        matchNakshatra = 'Front';
                    } else if (nakshatraDay.right.includes(nakshatra1)) {
                        matchNakshatra = 'Right';
                    } else if (nakshatraDay.left.includes(nakshatra1)) {
                        matchNakshatra = 'Left';
                    }

                    let matchletter = '';
                    if (letterDay.front.includes(Lucky_Letters)) {
                        matchletter = 'Front';
                    } else if (letterDay.right.includes(Lucky_Letters)) {
                        matchletter = 'Right';
                    } else if (letterDay.left.includes(Lucky_Letters)) {
                        matchletter = 'Left';
                    }

                    let matchvowel = '';
                    if (vowelDay.front.includes(Lucky_Letters)) {
                        matchvowel = 'Front';
                    } else if (vowelDay.right.includes(Lucky_Letters)) {
                        matchvowel = 'Right';
                    } else if (vowelDay.left.includes(Lucky_Letters)) {
                        matchvowel = 'Left';
                    }

                    // Helper function to get sparsh and vedh planets as a comma-separated string
                    const getSparshAndVedh = () => {
                        const sparshPlanetsList = sparshPlanets.filter(planet => planet === name);
                        const vedhPlanetsList = vedhPlanets.filter(planet => planet === name);
                        const sparsh = sparshPlanetsList.length > 0 ? sparshPlanetsList.join(', ') : ' ';
                        const vedh = vedhPlanetsList.length > 0 ? vedhPlanetsList.join(', ') : ' ';
                        return { sparsh, vedh };
                    };

                    // Collect tithi data for a single row
                    if (matchColumn) {
                        const { sparsh, vedh } = getSparshAndVedh();
                        tithiData.push({
                            tithiLord,
                            sparsh,
                            vedh
                        });
                    }
                    // Collect var data for a single row
                    if (matchVar) {
                        const { sparsh, vedh } = getSparshAndVedh();
                        varData.push({
                            Day_of_Birth,
                            sparsh,
                            vedh
                        });
                    }
                    // Collect rashi data for a single row
                    if (matchRashi) {
                        const { sparsh, vedh } = getSparshAndVedh();
                        rashiData.push({
                            Rasi,
                            sparsh,
                            vedh
                        });
                    }
                    // Collect nakshatra data for a single row
                    if (matchNakshatra) {
                        const { sparsh, vedh } = getSparshAndVedh();
                        nakshatraData.push({
                            nakshatra1,
                            sparsh,
                            vedh
                        });
                    }
                    // Collect rashi data for a single row
                    if (matchletter) {
                        const { sparsh, vedh } = getSparshAndVedh();
                        letterData.push({
                            Lucky_Letters,
                            sparsh,
                            vedh
                        });
                    }
                    // Collect rashi data for a single row
                    if (matchvowel) {
                        const { sparsh, vedh } = getSparshAndVedh();
                        vowelData.push({
                            Lucky_Name_Start,
                            sparsh,
                            vedh
                        });
                    }
                });

                // Append a single row for rashi data
                if (tithiData.length > 0) {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>Tithi</td>
                        <td>${tithiData.map(data => data.tithiLord).slice(0, 1)}</td>
                        <td>${tithiData.map(data => data.sparsh).join(' ')}</td>
                        <td>${tithiData.map(data => data.vedh).join(' ')}</td>
                    `;
                    tableBody.appendChild(row);
                }
                // Append a single row for rashi data
                if (varData.length > 0) {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                     <td>Day_of_Birth</td>
                        <td>${varData.map(data => data.Day_of_Birth).slice(0, 1)}</td>
                        <td>${varData.map(data => data.sparsh).join(' ')}</td>
                        <td>${varData.map(data => data.vedh).join(' ')}</td>
                    `;
                    tableBody.appendChild(row);
                }
                // Append a single row for rashi data
                if (rashiData.length > 0) {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                    <td>Rashi</td>
                        <td>${rashiData.map(data => data.Rasi).slice(0, 1)}</td>
                        <td>${rashiData.map(data => data.sparsh).join(' ')}</td>
                        <td>${rashiData.map(data => data.vedh).join(' ')}</td>
                    `;
                    tableBody.appendChild(row);
                }
                // Append a single row for letter data
                if (letterData.length > 0) {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                    <td>letter</td>
                        <td>${letterData.map(data => data.Lucky_Letters).slice(0, 1)}</td>
                        <td>${letterData.map(data => data.sparsh).join(' ')}</td>
                        <td>${letterData.map(data => data.vedh).join('')}</td>
                    `;
                    tableBody.appendChild(row);
                }
                // Append a single row for letter data
                if (vowelData.length > 0) {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                    <td>vowel</td>
                        <td>${vowelData.map(data => data.Lucky_Name_Start).slice(0, 1)}</td>
                        <td>${vowelData.map(data => data.sparsh).join(' ')}</td>
                        <td>${vowelData.map(data => data.vedh).join('')}</td>
                    `;
                    tableBody.appendChild(row);
                }
                if (nakshatraData.length > 0) {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                    <td>Nakshatra</td>
                        <td>${nakshatraData.map(data => data.nakshatra1).slice(0, 1)}</td>
                        <td>${nakshatraData.map(data => data.sparsh).join(' ')}</td>
                        <td>${nakshatraData.map(data => data.vedh).join('  ')}</td>
                    `;
                    tableBody.appendChild(row);
                }

                // Append a single row for nakshatra data
                // console.log(lifeAspect, "lifeAspect")
                if (lifeAspect.length > 0) {
                    {
                        lifeAspect.forEach((i) => {
                            const row = document.createElement('tr');
                            row.innerHTML = `
                            <td>${i.planet}</td>
                            <td>${i.nakshatra}</td>
                            <td>${i.frontVedh.nakshatra1}</td>
                            <td>${i.leftVedh.nakshatra1}</td>
                            <td>${i.rightVedh.nakshatra1}</td>
                        `;
                            tableBody.appendChild(row);
                        })
                    }
                }
            }

            document.addEventListener('DOMContentLoaded', populateTable);
        } else {
            console.error("Horoscope data not found or invalid in localStorage.");
        }
    </script>
</body>

</html>