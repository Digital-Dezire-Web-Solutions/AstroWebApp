<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Profile | Astro Nivesh</title>
    <!-- swiper slider css CDN -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css"
        integrity="sha512-5Hs3dF2AEPkpNAR7UiOHba+lRSJNeM2ECkwxUIxC1Q/FLycGTbNapWXB4tP889k5T5Ju8fs4b1P5z/iB4nMfSQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Tempus Dominus CSS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="icon" href="/images/astrology.png" />
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZF2CQTE5JG"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-ZF2CQTE5JG');
    </script>
    <script src="https://cdn.pagesense.io/js/astronivesh/b70b9482d2454a09ac5feadc3675f35c.js"></script>

</head>

<body>
    <!-- __________________________________ 
     Our header Comp 
     ------------------------ -->
    <!-- 
     <header class="header-comp">
        <div class="common-container3">

            <div class="header-flex-bx flex item-between">

                <div class="left-header-logo flex item-start gap">
                    <img src="./images/astrology.png" alt="">

                    <h6>Astro Nivesh</h6>
                    
                </div>

                <div class="right-navbar class-rel flex item-start gap">
                    <div class="navbar class-rel">
                    <nav class="nav class-rel">
                        <div class="nav-lists flex item-start">
                            <li><a href="#">Calendar</a></li>
                            <li><a href="#">Market</a></li>
                            <li><a href="#">Kundali</a></li>
                            <li><a href="#">Affirmations</a></li>
                            <li><a href="#">Runes</a></li>
                            <li><a href="#">Healing</a></li>
                            <li><a href="#">Wisdom</a></li>
                        </div>
                    </nav>
                </div>

                <div class="header-icons-flex-bx class-rel flex gap">

                    <a href="#">
                        <button class="headr-btn">
                            <ion-icon name="cart-outline"></ion-icon>
                            <span>Store</span>
                        </button>
                    </a>

                    <a href="#">
                        <button id="login_btn" class="headr-btn headr-btn2">
                            <ion-icon name="person"></ion-icon>
                            <span>Login</span>
                        </button>
                    </a>
                    
                </div>

                <button class="menu-bar-btn">
                    <i class="fa-solid fa-bars-staggered"></i>
                </button>
                
                </div>
                
            </div>
            
        </div>
     </header> -->

    <section class="top-header-comp">
        <div class="common-container3 top-header-flex flex item-between">
            <div class="left-header-logo flex item-start gap" onclick="window.location.href='home.html'">
                <img src="./images/astrology.png" alt="">

                <h6>Astro Nivesh</h6>

            </div>

            <div class="right-top-header-flex-bx flex item-start gap">

                <!-- <div class="top-hedr-bx flex item-center">
                    <div class="left-hedr-icon">
                        <ion-icon name="home"></ion-icon>
                    </div>
                    <div class="right-hedr-inof">
                        <h6>Reach Us</h6>
                        <span>601 , Ram Nagar Dewas</span>
                    </div>
                </div> -->

                <div class="top-hedr-bx flex item-center">
                    <div class="left-hedr-icon">
                        <ion-icon name="call"></ion-icon>
                    </div>
                    <div class="right-hedr-inof">
                        <h6>Talk to Us</h6>
                        <span>+91-8421616117</span>
                    </div>
                </div>


                <button class="menu-bar-btn">
                    <ion-icon name="menu"></ion-icon>
                </button>

                <div class="cart-bx cart-bx2">
                    <button class="cart-btn cart-btn2" onclick="goToCart()">
                        <span class="qty" id="cart-count2">0</span>
                        <ion-icon name="bag"></ion-icon>
                    </button>
                </div>


                <!-- <div class="cart-bx cart-bx2">
                    <button class="cart-btn cart-btn2">
                        <span class="qty">4</span>
                        <ion-icon name="bag"></ion-icon>
                    </button>

                    <div class="cart-lists-bx cart-lists-bx-mob">

                        <li>
                            <div class="item-img">
                                <img src="./images/astro-book.jpg" alt="">
                            </div>
                            <div class="item-info">
                                <h6>Astro Book</h6>
                                <p>Quantity : 2 x $45</p>

                                <h5>$90</h5>
                            </div>
                            <div class="delet-item-btn">
                                <ion-icon name="trash"></ion-icon>
                            </div>
                        </li>


                        <li>
                            <div class="item-img">
                                <img src="./images/astro-book.jpg" alt="">
                            </div>
                            <div class="item-info">
                                <h6>Astro Book</h6>
                                <p>Quantity : 2 x $45</p>

                                <h5>$90</h5>
                            </div>

                            <div class="delet-item-btn">
                                <ion-icon name="trash"></ion-icon>
                            </div>

                        </li>


                        <li>
                            <div class="item-img">
                                <img src="./images/astro-book.jpg" alt="">
                            </div>
                            <div class="item-info">
                                <h6>Astro Book</h6>
                                <p>Quantity : 2 x $45</p>

                                <h5>$90</h5>
                            </div>
                            <div class="delet-item-btn">
                                <ion-icon name="trash"></ion-icon>
                            </div>
                        </li>

                        <button class="apnt-btn chckout-btn">
                            Check Out
                        </button>

                    </div>

                </div> -->

                <button class="apnt-btn" onclick="window.location.href='appointments.html'">
                    Talk to Astrologer
                </button>

                <div class="profile-bx" id="login_btn">
                    <ion-icon name="person-circle-outline" size="large" color="#fe7000"></ion-icon>
                    <p id="profile-name">LogIn / Reg.</p>
                </div>

            </div>

        </div>
    </section>
    <style>
        .coming-soon {
            filter: grayscale(5);
        }

        .coming-soon .card-info {
            color: #ffffff;
            display: none;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
            overflow: visible;
            border-radius: .7rem;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 3;
            background: #dcdcdc;
            transition: ease-in-out
        }

        .coming-soon:hover .card-info {
            color: white;
            transition: color 1s;
            display: flex;
            transition: ease-in-out;
        }

        .coming-soon .card-info p {
            color: white;
        }

        .page-title {
            text-align: center;
            margin-bottom: 2rem;
        }

        /* .profile {
            display: flex;
            gap: 2rem;
        } */

        .profile-head {
            margin-bottom: 1rem;
        }

        /* .a {
            width: 35%;
        }

        .profile-subscription {
            width: 65%;
        } */

        .a-card {
            background-color: #ffc599;
            /* padding: 2rem; */
            border-radius: 8px;
            margin-bottom: 2rem;
        }

        .profile-subscription-card {
            background-color: #ffc599;
            /* padding: 2rem; */
            border-radius: 8px;
            margin-bottom: 2rem;
        }

        .subs-head {
            background-color: #fe7000;
            border-radius: 8px 8px 0 0;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .subs-head .profile-item .edit-btn {
            color: white;
            padding: 0px 12px;
        }

        .subs-head h5 {
            color: white;
            font-size: 18px;
        }

        .subs-head h5 span {
            color: white;
            font-size: 14px;
            font-weight: 400;
        }

        .subs-head h6 {
            color: white;
            font-size: 18px;
        }

        .subs-head h6 del {
            color: white;
            font-size: 12px;
            font-weight: 400;
        }

        .subs-head h6 span {
            color: white;
            font-size: 14px;
            font-weight: 300;
        }

        .subs-body {
            padding: 1rem 2rem 2rem 2rem;
        }

        .subs-body p {
            display: flex;
            align-items: center;
        }

        .subs-body p button {
            border: none;
            background-color: transparent;
            margin-left: 5px;
            cursor: pointer;
        }

        .profile-item {
            display: flex;
            align-items: center;
            font-size: 16px;
            /* margin-bottom: 1rem; */
        }

        .profile-item h5 {
            font-size: 22px;
        }

        .profile-item span {
            display: flex;
            align-items: center;
            font-weight: 400;
        }

        .profile-item p {
            display: flex;
            align-items: center;
            font-weight: 600;
            margin: 0;
        }

        .profile-item .edit-btn,
        .profile-item .cancel-btn,
        .profile-item .save-btn {
            padding: 8px 12px;
            border-radius: 8px;

            color: white;
            font-size: 12px;
            cursor: pointer;
        }

        .profile-item .edit-btn {
            color: black;
            padding: 0px 12px;
        }

        .profile-item .save-btn {
            background-color: green;
            margin-left: 10px;
        }

        .profile-item .cancel-btn {
            background-color: red;
            margin-left: 10px;
        }

        .profile-item input,
        .profile-item select {
            height: 3.5rem;
            background-color: transparent;
            background-color: #fff;
            border: 0.1rem solid #ddd;
            border-radius: 10rem;
            padding-inline: 2rem;
            outline: none;
        }

        .profile {
            display: flex;
            gap: 2rem;
        }

        .profile-left {
            width: 65%;
        }

        .profile-right {
            width: 35%;
        }



        .filter-buttons {
            margin-bottom: 1rem;
        }

        .filter-btn {
            padding: 8px 16px;
            margin-right: 8px;
            border: none;
            background-color: #eee;
            color: #333;
            cursor: pointer;
            border-radius: 8px;
            transition: background-color 0.3s;
        }

        .filter-btn:hover {
            background-color: #ddd;
        }

        .filter-btn.active {
            background-color: #fe7000;
            color: white;
        }

        .remedy-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .remedy-header .close-btn {
            display: none;
            border: none;
            background-color: red;
            color: white;
            padding: 6px 10px;
            border-radius: 8px;
        }

        .profile-header {
            display: flex;
            align-items: center;
            justify-content: space-between;


        }

        .profile-header button {
            padding: 8px 16px;
            margin-right: 8px;
            border: none;
            background-color: #fe7000;
            color: white;
            cursor: pointer;
            border-radius: 8px;
            transition: background-color 0.3s;
            margin-bottom: 1rem;
            display: none;
        }


        @media all and (min-width: 320px) and (max-width: 767px) {
            /* .profile {
                flex-direction: column;
            }

            .a {
                width: 100%;
            }

            .profile-subscription {
                width: 100%;
            } */

            .profile {
                flex-wrap: wrap;
            }

            .profile-left,
            .profile-right {
                width: 100%;
            }

            .profile-header button {
                display: flex;
            }

            .profile-right {
                display: none;
                position: absolute;
                top: 0;
                left: 0;
                z-index: 999;
            }

            .remedy-header .close-btn {
                display: inline;
            }

            .profile-right:before {
                content: "";
                position: absolute;
                background-color: #fffffff2;
                top: 0;
                left: 0;
                transform: translateX(-5%);
                width: 110%;
                height: 100vh;
                z-index: -1;
            }
        }
    </style>


    <header class="header">
        <div class="common-container3 header-flex flex item-between gap">

            <div class="nav-overlay"></div>
            <div class="navbar">

                <button class="close-nav-btn">
                    <ion-icon name="close-circle"></ion-icon>
                </button>

                <div class="left-header-logo flex item-start gap mob-logo" onclick="window.location.href='home.html'">
                    <img src="./images/astrology.png" alt="">

                    <h6>Astro Nivesh</h6>

                </div>

                <div class="search-inpt-bx search-inpt-bx-mob">
                    <input type="text" name="search" id="search" placeholder="Search here...">
                    <button class="search-btn">
                        <ion-icon name="search"></ion-icon>
                    </button>
                </div>

                <nav class="nav">
                    <div class="nav-lists flex item-start">
                        <li><a href="home.html">Home</a></li>
                        <li><a href="kundali.html">Kundali</a></li>
                        <li><a href="market.html">Market</a></li>
                        <li><a href="product.html">Astro Store</a></li>
                        <li><a href="pooja.html">Pooja</a></li>
                        <li>
                            <div class="category-item">
                                <div class="category-item-box">
                                    <p>Items</p>
                                </div>
                                <div class="dropdown">
                                    <p><a href="gochar.html" style="color: black;">Gochar</a></p>
                                    <p><a href="panchang.html" style="color: black;">Panchang</a></p>
                                </div>
                            </div>
                        </li>
                    </div>
                </nav>

                <div class="astrology-cont-info">

                    <!-- <div class="top-hedr-bx flex item-center">
                        <div class="left-hedr-icon">
                            <ion-icon name="home"></ion-icon>
                        </div>
                        <div class="right-hedr-inof">
                            <h6>Reach Us</h6>
                            <span>601 , Ram Nagar Dewas</span>
                        </div>
                    </div> -->

                    <div class="top-hedr-bx flex item-center">
                        <div class="left-hedr-icon">
                            <ion-icon name="call"></ion-icon>
                        </div>
                        <div class="right-hedr-inof">
                            <h6>Talk to Us</h6>
                            <span>+91-8421616117</span>
                        </div>
                    </div>

                </div>


                <button class="apnt-btn apnt-btn-mob" onclick="window.location.href='appointments.html'">
                    Talk to Astrologer
                </button>

            </div>

            <div class="right-header-flex flex item-start ">
                <div class="search-inpt-bx">
                    <input type="text" name="search" id="search" placeholder="Search here...">
                    <button class="search-btn">
                        <ion-icon name="search"></ion-icon>
                    </button>
                </div>

                <div class="cart-bx">
                    <button class="cart-btn" onclick="goToCart()">
                        <span class="qty" id="cart-count">0</span>
                        <ion-icon name="bag"></ion-icon>
                    </button>
                </div>

                <!-- <div class="cart-bx">
                    <button class="cart-btn">
                        <span class="qty">4</span>
                        <ion-icon name="bag"></ion-icon>
                    </button>

                    <div class="cart-lists-bx">

                        <li>
                            <div class="item-img">
                                <img src="./images/astro-book.jpg" alt="">
                            </div>
                            <div class="item-info">
                                <h6>Astro Book</h6>
                                <p>Quantity : 2 x $45</p>

                                <h5>$90</h5>
                            </div>
                            <div class="delet-item-btn">
                                <ion-icon name="trash"></ion-icon>
                            </div>
                        </li>


                        <li>
                            <div class="item-img">
                                <img src="./images/astro-book.jpg" alt="">
                            </div>
                            <div class="item-info">
                                <h6>Astro Book</h6>
                                <p>Quantity : 2 x $45</p>

                                <h5>$90</h5>
                            </div>

                            <div class="delet-item-btn">
                                <ion-icon name="trash"></ion-icon>
                            </div>

                        </li>


                        <li>
                            <div class="item-img">
                                <img src="./images/astro-book.jpg" alt="">
                            </div>
                            <div class="item-info">
                                <h6>Astro Book</h6>
                                <p>Quantity : 2 x $45</p>

                                <h5>$90</h5>
                            </div>
                            <div class="delet-item-btn">
                                <ion-icon name="trash"></ion-icon>
                            </div>
                        </li>

                        <button class="apnt-btn chckout-btn">
                            Check Out
                        </button>

                    </div>

                </div> -->



            </div>

        </div>
    </header>

    <!-- _______________________
       Our Login Reg Comp 
       ------------------ -->

    <section class="login-reg-comp">

        <div class="login-bx ">

            <button class="close-form-btn">
                <i class="fa-solid fa-xmark"></i>
            </button>

            <div class="login-info">

                <div class="login-logo">
                    <img src="./images/astrology.png" alt="">
                </div>



                <div class="comn-heading">
                    <h4>Sign In to Astrology </h4>
                    <!-- <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima maxime est obcaecati.</p> -->
                </div>

                <div class="login-form">

                    <form onsubmit="handleSubmit(event)">

                        <div class="inpt-bx">
                            <label for="email">Email Address</label>
                            <div class="inpt">
                                <input type="email" id="email" name="email" placeholder="Enter your Email..."
                                    autocomplete="off" required>

                            </div>
                        </div>

                        <div class="inpt-bx">
                            <label for="email">Password</label>
                            <div class="inpt">
                                <input type="password" id="password" name="password"
                                    placeholder="Enter your password..." autocomplete="off" required>
                            </div>
                        </div>

                        <div class="form-btns-flex">

                            <button class="form-btn" type="submit">
                                Sign In
                            </button>

                            <button type="button" class="form-btn form-btn2" id="newAcnt">
                                Create Account
                            </button>

                        </div>
                        <div id="alert" class="alert"></div>


                    </form>


                </div>
            </div>

            <div class="reg-info">

                <div class="login-logo">
                    <img src="./images/astrology.png" alt="">
                </div>

                <div class="comn-heading">
                    <h4>Sign Up to Astrology </h4>
                    <!-- <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima maxime est obcaecati.</p> -->
                </div>

                <div class="login-form">
                    <form onsubmit="handleCreate(event)">

                        <div class="inpt-bx">
                            <label for="name">Name</label>
                            <div class="inpt">
                                <input type="text" name="cname" placeholder="Enter your Name" autocomplete="off"
                                    required>
                            </div>
                        </div>

                        <div class="inpt-bx">
                            <label for="name">Email</label>
                            <div class="inpt">
                                <input type="email" name="cemail" placeholder="Enter your email address..."
                                    autocomplete="off" required>
                            </div>
                        </div>

                        <div class="inpt-bx">
                            <label for="password">Create Password</label>
                            <div class="inpt">
                                <input type="text" name="ccreatepassword" placeholder="Create your password..."
                                    autocomplete="off" required>
                            </div>
                        </div>


                        <div class="inpt-bx">
                            <label for="password">Date Of Birth</label>
                            <div class="inpt">
                                <input type="text" id="calendarInput" name="calendarInput"
                                    placeholder="Choose a date" />
                            </div>
                        </div>

                        <div class="inpt-bx">
                            <label for="password">Birth Time</label>
                            <div class="inpt">
                                <input type="text" id="timePicker" name="timePicker" class="time-picker"
                                    placeholder="Select Time">
                            </div>
                        </div>
                        <div class="inpt-bx">
                            <label for="birthplace">Birth Place</label>
                            <div class="inpt">
                                <input type="text" name="birthplace" placeholder="Enter your Birth Place..."
                                    autocomplete="off" required>
                            </div>
                        </div>
                        <div class="inpt-bx">
                            <label for="consonent">Consonent of your name</label>
                            <div class="inpt">
                                <input type="text" name="consonent" placeholder="Enter your Consonent..."
                                    autocomplete="off" required>
                            </div>
                        </div>
                        <div class="inpt-bx">
                            <label for="vowel">Vowel of your name</label>
                            <div class="inpt">
                                <input type="text" name="vowel" placeholder="Enter your Vowel..." autocomplete="off"
                                    required>
                            </div>
                        </div>

                        <div class="form-btns-flex">

                            <button class="form-btn" type="submit">
                                Create Account
                            </button>

                            <button class="form-btn  form-btn3" type="button" id="signInBtn">
                                I Already Have Account
                            </button>

                        </div>

                    </form>


                </div>

            </div>
            <div class="profile-info">
                <div class="login-logo">
                    <img src="./images/astrology.png" alt="">
                </div>
                <div class="comn-heading">
                    <h4>Astro Nivesh</h4>
                </div>

                <div id="profile-body"></div>
                <a style=" display: flex; align-items: center; justify-content: center;  font-size: 18px; padding-top: 1rem;"
                    href="profile.html"><i class="fa-solid fa-user" style="margin-right: 10px;"></i>My Profile</a>
                <div class="logout-bx" id="logoutBox">
                    <p><ion-icon name="log-out"></ion-icon>Log Out</p>
                </div>
            </div>

        </div>

    </section>


    <!-- body section -->

    <section class="kundali-comp">
        <div class="common-container3">
            <div id="renewModal" class="renewmodal" style="display:none;">
                <div class="renewmodal-box">
                    <div class="modal-content" id="modalContent">
                        <span onclick="document.getElementById('renewModal').style.display='none'">
                            <i class="fa-solid fa-xmark" style="color: #ffffff;"></i>
                        </span>
                        <h5>Renew Subscription</h5>
                        <div class="payment-plan-box">
                            <div class="payment-plan-head">
                                <h6 id="planName">Basic</h6>
                            </div>
                            <div class="payment-plan-body">
                                <div class="payment-price">
                                    <p>₹</p>
                                    <h5 id="planPrice">501</h5>
                                </div>
                                <div class="payment-plan-body-box">
                                    <p>/Per user</p>
                                    <p>/Per months</p>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="inpt-bx">
                            <label for="coupon">Coupon</label>
                            <div class="inpt payment-coupon">
                                <input type="type" id="couponInput" name="couponInput" placeholder="Coupon code"
                                    autocomplete="off">
                                <button type="button" onclick="applyCoupon()">Apply</button>
                            </div>
                            <p id="couponMessage" style="margin-top: 5px;"></p>
                        </div> -->
                        <p>100% Secure Payment method</p>
                        <button class="form-btn" type="button" onclick="window.location.href='checkout.html'">
                            Proceed to Checkout
                        </button>
                    </div>

                    <!-- Success Message -->
                    <div class="subscription-message" id="successMessage"
                        style="display:none; text-align:center; color:white;">
                        <img src="./images/success.gif" alt="">
                        <p>Payment Successful!</p>
                        <p>Subscription from 18-03-2025 to 17-03-2025 is successfull!</p>
                    </div>

                    <!-- Failed Message -->
                    <div class="subscription-message" id="failedMessage"
                        style="display:none; text-align:center; color:white;">
                        <i class="fa-solid fa-circle-xmark"
                            style="font-size: 50px; color: #FF4C4C; margin-bottom: 15px;"></i>
                        <p>Payment failed!</p>
                    </div>
                </div>
            </div>
            <!-- <h5 class="page-title">Profile</h5> -->
            <div class="kundali-container">
                <div class="table-data">
                    <div class="profile" id="a">
                        <div class="profile-left">
                            <div class="a" id="profileDetails">
                                <div class="profile-header">
                                    <h5 class="profile-head">Profile</h5>
                                    <button onclick="toggleProfileRight()">View Remedies</button>
                                </div>
                                <div class="a-card">
                                    <div class="subs-head">
                                        <div class="profile-item">
                                            <h5 id="name-display"></h5>
                                            <input type="text" id="name-input" class="edit-input"
                                                style="display: none;">
                                            <p class="edit-btn" onclick="enableEdit('name')">
                                                <i class="fa-solid fa-pen-to-square"></i>
                                            </p>
                                            <p class="save-btn" onclick="saveEdit('name')" style="display: none;">
                                                <i class="fa-solid fa-check"></i>
                                            </p>
                                            <p class="cancel-btn" onclick="cancelEdit('name')" style="display: none;">
                                                <i class="fa-solid fa-xmark"></i>
                                            </p>
                                        </div>
                                    </div>
                                    <div class="subs-body">

                                        <div class="profile-item">
                                            <span>Email : </span>
                                            <p id="email-display"></p>
                                        </div>

                                        <div class="profile-item">
                                            <span>Date of Birth : </span>
                                            <p id="dob-display"></p>
                                        </div>

                                        <div class="profile-item">
                                            <span>Birth Time : </span>
                                            <p id="birthtime-display"></p>
                                        </div>

                                        <div class="profile-item">
                                            <span>Birth Place : </span>
                                            <p id="birthplace-display"></p>
                                        </div>

                                        <div class="profile-item">
                                            <span>Consonant : </span>
                                            <p id="consonent-display"></p>
                                            <select id="consonent-input" class="edit-input" style="display: none;">
                                                <option value="Ka">Ka</option>
                                                <option value="Kha">Kha</option>
                                                <option value="Ga">Ga</option>
                                                <option value="Cha">Cha</option>
                                                <option value="Ya">Ya</option>
                                                <option value="Va">Va</option>
                                                <option value="Ha">Ha</option>
                                                <option value="Da">Da</option>
                                                <option value="La">La</option>
                                                <option value="Na">Na</option>
                                                <option value="Dha">Dha</option>
                                                <option value="Sha">Sha</option>
                                                <option value="Tha">Tha</option>
                                                <option value="Kha">Kha</option>
                                                <option value="Ra">Ra</option>
                                                <option value="Ja">Ja</option>
                                                <option value="Pa">Pa</option>
                                                <option value="Bha">Bha</option>
                                                <option value="Ta">Ta</option>
                                                <option value="Ma">Ma</option>
                                                <option value="SA">Sa</option>
                                                <option value="Tau">Tau</option>
                                            </select>
                                            <p class="edit-btn" onclick="enableEdit('consonent')"> <i
                                                    class="fa-solid fa-pen-to-square"></i></p>
                                            <p class="save-btn" onclick="saveEdit('consonent')" style="display: none;">
                                                <i class="fa-solid fa-check"></i>
                                            </p>
                                            <p class="cancel-btn" onclick="cancelEdit('consonent')"
                                                style="display: none;">
                                                <i class="fa-solid fa-xmark"></i>
                                            </p>
                                        </div>

                                        <div class="profile-item">
                                            <span>Vowel : </span>
                                            <p id="vowel-display"></p>
                                            <select id="vowel-input" class="edit-input" style="display: none;">
                                                <option value="A">A</option>
                                                <option value="AA">AA</option>
                                                <option value="Ae">Ae</option>
                                                <option value="Aei">Aei</option>
                                                <option value="Da">Da</option>
                                                <option value="E">E</option>
                                                <option value="EE">EE</option>
                                                <option value="O">O</option>
                                                <option value="OO">OO</option>
                                                <option value="Ou">Ou</option>
                                                <option value="oo">oo</option>
                                                <option value="Re">Re</option>
                                                <option value="Ree">Ree</option>
                                                <option value="Am">Am</option>
                                                <option value="Aha">Aha</option>
                                                <option value="Lri">Lri</option>
                                                <option value="Lree">Lree</option>
                                            </select>
                                            <p class="edit-btn" onclick="enableEdit('vowel')">
                                                <i class="fa-solid fa-pen-to-square"></i>
                                            </p>
                                            <p class="save-btn" onclick="saveEdit('vowel')" style="display: none;">
                                                <i class="fa-solid fa-check"></i>
                                            </p>
                                            <p class="cancel-btn" onclick="cancelEdit('vowel')" style="display: none;">
                                                <i class="fa-solid fa-xmark"></i>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="profile-subscription">
                                    <h5 class="profile-head">Subscription History</h5>
                                    <div id="profile-subscription-history"></div>
                                    <h5 class="profile-head">My Orders</h5>
                                    <div id="profile-order"></div>
                                    <h5 class="profile-head">Appointment History</h5>
                                    <div id="profile-Appointment"></div>
                                    <h5 class="profile-head">Transactions History</h5>
                                    <div id="profile-subscription-transition"></div>
                                </div>
                            </div>
                        </div>
                        <div class="profile-right">
                            <div class="remedy-header">

                                <h5 class="profile-head">Remedies</h5>
                                <div class="filter-buttons">
                                    <button id="btnAll" class="filter-btn active">All</button>
                                    <button id="btnGlobal" class="filter-btn">Global</button>
                                    <button id="btnParticular" class="filter-btn">Particular</button>
                                </div>
                                <button class="close-btn" onclick="toggleProfileRight()">✕</button>
                            </div>
                            <div class="remedy-box" id="remedySelection"></div>
                        </div>
                    </div>
                </div>
            </div>
    </section>


    <!-- ____________________________
          Our Footer Comp 
          -------------------- -->

    <footer class="footer-comp">
        <div class="common-container3">

            <div class="footer-flex-bx">

                <div class="left-footer-bx">

                    <div class="left-header-logo flex item-start gap">
                        <img src="./images/astrology.png" alt="" onclick="window.location.href='home.html'">

                        <h6>Astro Nivesh</h6>


                    </div>




                    <p>
                        Astro Nivesh is best astrology website for online Astrology predictions. Talk to Astrologer on
                        call and get answers to all your worries by seeing the future life through Astrology Kundli
                        Predictions from the best Astrologers from India. Get best future predictions related to
                        Marriage, love life, Career or Health over call, chat, query or report.
                    </p>

                </div>


                <div class="right-footer-bx">

                    <div class="footer-bx">
                        <h6>Corporate Info</h6>
                        <div class="footer-li">
                            <li><a href="aboutus.html">About Us</a></li>
                            <li><a href="contactus.html">Contact Us</a></li>
                            <li><a href="termsconditions.html">Terms & Conditions</a></li>
                            <li><a href="privacypolicy.html">Privacy Policy</a></li>
                            <!-- <li><a href="shippingpolicy.html">Shipping Policy</a></li> -->
                            <li><a href="refundpolicy.html">Refund Policy</a></li>
                        </div>
                    </div>


                    <div class="footer-bx">
                        <h6>Contact Info</h6>
                        <div class="footer-li">
                            <li><a href="#"> We are available 24x7 on chat support</a></li>
                            <li><a href="#">Email ID: contact@astronivesh.com</a></li>

                            <div class="soc-icons-flex">
                                <a href="#">
                                    <ion-icon name="logo-facebook"></ion-icon>
                                </a>
                                <a href="#">
                                    <ion-icon name="logo-instagram"></ion-icon>
                                </a>
                                <a href="#">
                                    <ion-icon name="logo-linkedin"></ion-icon>
                                </a>
                                <a href="#">
                                    <ion-icon name="logo-youtube"></ion-icon>
                                </a>
                            </div>

                        </div>
                    </div>


                </div>

            </div>

            <div class="copyright-bx">
                <p>Copyright 2025 Astro Nivesh (This website is owned and managed by Shriram Lalasaheb Magar) | All
                    Rights Reserved | Dev. By: <a href="https://digitaldezire.com/">Digital Dezire</a></p>
            </div>
        </div>
    </footer>
    <script>
        const host = "https://api.astronivesh.com";
        const token = localStorage.getItem("token");
        async function fetchAllData() {
            try {
                const response = await fetch(`${host}/api/auth/getuser`, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                        "auth-token": token
                    }
                });

                if (!response.ok == true) {
                    throw new Error("Failed to fetch data");
                }

                const data = await response.json();
                // console.log(data,"data")
                populatePTable(data)
                populateName(data)
                populateSubscriptionHistory(data)
                populateTransitionHistory(data)
                populateOrders(data)
                fetchData(data)
                // console.log(data._id,"id")
                localStorage.setItem("user_id", data._id);
            } catch (error) {
                console.error(error);
                // alert("Error fetching data: " + error.message);
            }
        }

        function populatePTable(data) {
            const tableBody = document.getElementById("profile-body");
            tableBody.innerHTML = "";

            tableBody.innerHTML = `
            <div class="profile-desc">
                <h4>${data.name}</h4>
            </div>
             
            `
        }
        function populateName(data) {
            const tableBody = document.getElementById("profile-name");
            tableBody.innerHTML = "";

            tableBody.innerHTML = `
            <p>${data.name}</p>
             
            `
        }

        // Function to open modal (customize as per your modal setup)
        function openRenewModal(subscriptionId) {
            // Example: Show modal and populate hidden input with subscriptionId
            document.getElementById('renewModal').style.display = 'block';
        }

        function populateSubscriptionHistory(data) {
            const tableBody = document.getElementById("profile-subscription-history");
            tableBody.innerHTML = "";

            let subscriptionHistoryData = data.subscriptionHistory;
            subscriptionHistoryData = subscriptionHistoryData.reverse();
            // console.log(subscriptionHistoryData, "subscriptionHistoryData");

            // If no data, show message
            if (!subscriptionHistoryData || subscriptionHistoryData.length === 0) {
                tableBody.innerHTML = `
            <div class="profile-subscription-card">
                <div class="subs-body">
                    <p style="text-align: center;">No Subscription History Found</p>
                </div>
            </div>
        `;
                return;
            }

            // Step 1: Loop through subscriptions
            subscriptionHistoryData.forEach((item, index) => {
                // console.log(item, "item");
                const price = 501;
                let discount = item?.appliedCoupon?.discount || 0;
                let discountPer = (discount / 100) * price;
                let discounted = price - discountPer;
                // console.log(discounted, "discounted")

                tableBody.innerHTML += `
            <div class="profile-subscription-card">
                <div class="subs-head">
                     <h5>${item.plan} <span>(Subscription) ${item.status === "Active" ? `<i class="fa-solid fa-circle" style="color: #00ff11;"></i>` : `<i class="fa-solid fa-circle" style="color: #ff0000;"></i>`}  </span></h5>
                    <h6>${item?.appliedCoupon?.discount
                        ? `<span>-${item.appliedCoupon.discount}%</span> ${discounted} <del>${price}</del>`
                        : `${price}`
                    }</h6>
                </div>
                <div class="subs-body">
                    <p>TransactionId : <span>${item.transactionId || "N/A"}</span> <button><i class="fa-solid fa-download"></i></button></p>
                    <p>Subscription : <span>${new Date(item.startDate).toISOString()
                        .split("T")[0]} to ${new Date(item.endDate).toISOString()
                            .split("T")[0]}</span></p>
                    <p>Pay Date : <span>${new Date(item.date)
                        .toISOString()
                        .split("T")[0]}</span></p>
                    <p>Status : <span>${item.status}</span></p>
                    ${data.subscription.status !== "Active" ? `
                    <div class="profile-renew">
                <h6>Renew your plan to get your future updates!</h6>
                <p class="renew-btn" data-id="${data._id}">Renew</p>
            </div>` : ""} 
                </div>
            </div>
        `;
            });
        }

        function populateTransitionHistory(data) {
            const tableBody = document.getElementById("profile-subscription-transition");
            tableBody.innerHTML = "";

            let transitionHistoryData = data.invoices;
            transitionHistoryData = transitionHistoryData.reverse();
            // console.log(transitionHistoryData, "transitionHistoryData");
            // console.log(transitionHistoryData,"transitionHistoryData")

            // If no data, show message
            if (!transitionHistoryData || transitionHistoryData.length === 0) {
                tableBody.innerHTML = `
            <div class="profile-subscription-card">
                <div class="subs-body">
                    <p style="text-align: center;">No Subscription History Found</p>
                </div>
            </div>
        `;
                return;
            }
            transitionHistoryData.forEach((item, index) => {
                // console.log(item, "item");
                const price = item?.price;
                let discount = item?.appliedCoupon?.discount || 0;
                let discountPer = (discount / 100) * price;
                let discounted = price - discountPer;
                // console.log(discounted, "discounted")

                if (item.plan !== "Free") {
                    tableBody.innerHTML += `
            <div class="profile-subscription-card">
                                        <div class="subs-head">
                                            <h5>${item?.type} <span>(${item?.plan})</span></h5>
                        <h6>₹ ${price}</h6>
                                        </div>
                                        <div class="subs-body">
                                                                <p>Invoice No. : <span>${item.invoiceNumber || "N/A"}</span> <button><i class="fa-solid fa-download"></i></button></p>
                                            <p>Pay Date : <span>${new Date(item.date)
                            .toISOString()
                            .split("T")[0]}</span></p>
                                        </div>
                                    </div>
        `;
                }
            })
        }
        async function populateOrders(data) {
            console.log(data, "data")
            try {
                const response = await fetch(`${host}/api/order/user/${data._id}`, {
                    method: "GET",
                    headers: {
                        "Content-Type": "application/json",
                        "auth-token": token
                    }
                });

                if (!response.ok == true) {
                    throw new Error("Failed to fetch data");
                }

                const data2 = await response.json();
                console.log(data2, "data")
                const tableBody = document.getElementById("profile-order");
                tableBody.innerHTML = "";

                let transitionHistoryData = data2;
                transitionHistoryData = transitionHistoryData.reverse();

                // If no data, show message
                if (!transitionHistoryData || transitionHistoryData.length === 0) {
                    tableBody.innerHTML = `
            <div class="profile-subscription-card">
                <div class="subs-body">
                    <p style="text-align: center;">No Orders Found</p>
                </div>
            </div>
        `;
                    return;
                }
                transitionHistoryData.forEach((item, index) => {
                    // console.log(item, "item");
                    const price = item?.price;
                    let discount = item?.appliedCoupon?.discount || 0;
                    let discountPer = (discount / 100) * price;
                    let discounted = price - discountPer;
                    // console.log(discounted, "discounted")

                    tableBody.innerHTML += `
            <div class="profile-subscription-card">
                                        <div class="subs-head">
                                            
                        <h6> ${item.status}</h6>
                                        </div>
                                        <div class="subs-body">
                                                                <p>Payment Method : <span>${item.paymentMethod || "N/A"}</span></p>
                                                                <p>Total Amount : <span>${item.totalAmount}</span> </p>
                                                                <p>Payable Amount : <span>${item.orderAmount}</span></p>
                                                                <p>Ordered At : <span>${new Date(item.orderedAt)
                            .toISOString()
                            .split("T")[0]}</span></p>
                                                                    <p>Item: <span>${item.items.map((j => (
                                j.title
                            )))}</span></p>
                                                                    <p>Quantity: <span>${item.items.map((j => (
                                j.quantity
                            )))}</span></p>

                                        </div>
                                    </div>
        `;
                })

            } catch (error) {
                console.error(error);
                // alert("Error fetching data: " + error.message);
            }
        }


        document.addEventListener("DOMContentLoaded", function () {
            // console.log(token, "token")
            const loginForm = document.querySelector(".login-info");
            const regInfo = document.querySelector(".reg-info");
            const profileInfo = document.querySelector(".profile-info");

            if (token) {
                // User is logged in, show profile and hide login/signup forms
                loginForm.style.display = "none";
                regInfo.style.display = "none";
                profileInfo.style.display = "block";
            } else {
                // User is not logged in, show login/signup forms
                loginForm.style.display = "block";
                regInfo.style.display = "block";
                profileInfo.style.display = "none";
            }

            // Logout functionality
            const logoutBox = document.getElementById("logoutBox");
            if (logoutBox) {
                logoutBox.addEventListener("click", function () {
                    localStorage.removeItem("token");
                    localStorage.removeItem('params');
                    location.reload();
                    window.location.href = "./index.html";
                });
            }
        });

        document.addEventListener("DOMContentLoaded", async function () {
            if (!token) {
                alert("User not authenticated");
                return;
            }

            async function fetchUserProfile() {
                try {
                    const response = await fetch(`${host}/api/auth/getuser`, {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                            "auth-token": token
                        }
                    });

                    if (!response.ok) throw new Error("Failed to fetch user profile");

                    const data = await response.json();

                    // Populate profile details
                    document.getElementById("name-display").textContent = data.name || "Not Set";
                    document.getElementById("email-display").textContent = data.email || "Not Set";
                    document.getElementById("dob-display").textContent = data.dob || "Not Set";
                    document.getElementById("birthtime-display").textContent = data.birthtime || "Not Set";
                    document.getElementById("birthplace-display").textContent = data.birthplace || "Not Set";
                    document.getElementById("consonent-display").textContent = data.consonent || "Not Set";
                    document.getElementById("vowel-display").textContent = data.vowel || "Not Set";
                } catch (error) {
                    console.error("Error fetching profile:", error);
                }
            }

            fetchUserProfile();

            // Function to enable edit mode
            window.enableEdit = function (field) {
                const displayElem = document.getElementById(`${field}-display`);
                const inputElem = document.getElementById(`${field}-input`);
                inputElem.value = displayElem.textContent; // Store old value
                displayElem.style.display = "none";
                inputElem.style.display = "inline-block";
                document.querySelector(`[onclick="enableEdit('${field}')"]`).style.display = "none";
                document.querySelector(`[onclick="saveEdit('${field}')"]`).style.display = "inline-block";
                document.querySelector(`[onclick="cancelEdit('${field}')"]`).style.display = "inline-block";
            };

            // Function to save the edited value
            window.saveEdit = async function (field) {
                const updatedValue = document.getElementById(`${field}-input`).value.trim();

                if (!updatedValue) {
                    alert("Field cannot be empty.");
                    return;
                }

                const updateData = {};
                updateData[field] = updatedValue;

                try {
                    const response = await fetch(`${host}/api/auth/edituser`, {
                        method: "PUT",
                        headers: {
                            "Content-Type": "application/json",
                            "auth-token": token
                        },
                        body: JSON.stringify(updateData)
                    });

                    const result = await response.json();
                    if (response.ok) {
                        document.getElementById(`${field}-display`).textContent = updatedValue;
                        cancelEdit(field); // Close edit mode
                        alert("Profile updated successfully!");
                    } else {
                        alert("Update failed.");
                    }
                } catch (error) {
                    console.error("Error updating profile:", error);
                    alert("An error occurred while updating your profile.");
                }
            };
            window.cancelEdit = function (field) {
                document.getElementById(`${field}-display`).style.display = "inline-block";
                document.getElementById(`${field}-input`).style.display = "none";
                document.querySelector(`[onclick="enableEdit('${field}')"]`).style.display = "inline-block";
                document.querySelector(`[onclick="saveEdit('${field}')"]`).style.display = "none";
                document.querySelector(`[onclick="cancelEdit('${field}')"]`).style.display = "none";
            };
        });


        function formatDateTime(dateString) {
            const date = new Date(dateString);

            const options = {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                hour12: true,
            };

            return date.toLocaleString('en-IN', options);
        }

        function toggleProfileRight() {
            const el = document.querySelector('.profile-right');
            el.style.display = (el.style.display === 'inline') ? 'none' : 'inline';
        }


        async function fetchData(data) {
            try {
                const response = await fetch(`${host}/api/admindetail/all`);
                const datas = await response.json();
                populateAppointment(datas)
                const remedy = datas[0]?.remedy?.slice().reverse() || [];

                const filterButtons = {
                    all: document.getElementById("btnAll"),
                    global: document.getElementById("btnGlobal"),
                    particular: document.getElementById("btnParticular")
                };

                let currentFilter = 'all';

                Object.entries(filterButtons).forEach(([key, btn]) => {
                    btn.addEventListener("click", () => {
                        currentFilter = key;
                        updateButtonStyles(key);
                        renderRemedies();
                    });
                });

                function updateButtonStyles(activeKey) {
                    Object.entries(filterButtons).forEach(([key, btn]) => {
                        btn.classList.toggle("active", key === activeKey);
                    });
                }

                function renderRemedies() {
                    const planContainer = document.getElementById("remedySelection");
                    planContainer.innerHTML = "";

                    let filteredRemedies = remedy.filter(p => {
                        if (currentFilter === "global") return p.isGlobal === true;
                        if (currentFilter === "particular") return p.user === data._id;
                        return p.isGlobal === true || p.user === data._id; // default 'all'
                    });

                    filteredRemedies.forEach(p => {
                        const card = document.createElement("div");
                        card.className = "accordion-card";

                        card.innerHTML = `
                    <div class="accordion-header">
                        <h6>${p.title}</h6>
                        <button class="accordion-toggle">+</button>
                    </div>
                    <div class="accordion-body-wrapper">
                        <div class="accordion-body">
                            <p>${p.message}</p>
                            <p>${formatDateTime(p.date)}</p>
                        </div>
                    </div>
                `;

                        planContainer.appendChild(card);
                    });

                    document.querySelectorAll(".accordion-toggle").forEach(button => {
                        button.addEventListener("click", () => {
                            const wrapper = button.closest(".accordion-card").querySelector(".accordion-body-wrapper");
                            const body = wrapper.querySelector(".accordion-body");
                            const isOpen = wrapper.classList.contains("open");

                            if (isOpen) {
                                wrapper.style.maxHeight = "0px";
                                button.textContent = "+";
                            } else {
                                wrapper.style.maxHeight = body.scrollHeight + "px";
                                button.textContent = "–";
                            }

                            wrapper.classList.toggle("open");
                        });
                    });
                }

                // Initial render with default filter and styling
                updateButtonStyles(currentFilter);
                renderRemedies();

            } catch (error) {
                console.error("Error fetching plans:", error);
            }
        }
        function populateAppointment(datas) {
            // console.log(datas, 'data')
            const tableBody = document.getElementById("profile-Appointment");
            tableBody.innerHTML = "";
            const user_id = localStorage.getItem("user_id");

            let appointmentData = datas[0].appointment;
            let appointments = [];

            appointments = appointmentData.find((i) => i.user === user_id);

            // console.log(appointments, "appointmentData");

            tableBody.innerHTML = `
                                <div class="profile-subscription-card">
                                    <div class="subs-head">
                                        <h5>${appointments.plan}</h5>
                                        <h6>${appointments.amount}</h6>
                                    </div>
                                    <div class="subs-body">
                    <p>TransactionId. : <span>${appointments.transactionId}</span> <button><i class="fa-solid fa-download"></i></button></p>
                                        
                                        <p>Prefered date : <span> ${appointments.date}</span></p>
                                        <p>Prefered time : <span> ${appointments.preferedTime}</span></p>
                                        <p>Status : <span>${appointments.status}</span></p>
                                                                          
                                    </div>             
            `

        }
    </script>

    <script>
        // Populate table on page load
        window.onload = async () => {
            fetchAllData()
        };
    </script>


    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <!-- Swiper Js file -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <!-- script file -->
    <script src="./js/index.js"></script>

</body>

</html>