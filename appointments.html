<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Appointment | Astro Nivesh</title>
    <!-- swiper slider css CDN -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css"
        integrity="sha512-5Hs3dF2AEPkpNAR7UiOHba+lRSJNeM2ECkwxUIxC1Q/FLycGTbNapWXB4tP889k5T5Ju8fs4b1P5z/iB4nMfSQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Tempus Dominus CSS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="icon" href="/images/astrology.png" />
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZF2CQTE5JG"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-ZF2CQTE5JG');
    </script>
    <script src="https://cdn.pagesense.io/js/astronivesh/b70b9482d2454a09ac5feadc3675f35c.js"></script>

</head>

<body>
    <!-- __________________________________ 
     Our header Comp 
     ------------------------ -->
    <!-- 
     <header class="header-comp">
        <div class="common-container3">

            <div class="header-flex-bx flex item-between">

                <div class="left-header-logo flex item-start gap">
                    <img src="./images/astrology.png" alt="">

                    <h6>Astro Nivesh</h6>
                    
                </div>

                <div class="right-navbar class-rel flex item-start gap">
                    <div class="navbar class-rel">
                    <nav class="nav class-rel">
                        <div class="nav-lists flex item-start">
                            <li><a href="#">Calendar</a></li>
                            <li><a href="#">Market</a></li>
                            <li><a href="#">Kundali</a></li>
                            <li><a href="#">Affirmations</a></li>
                            <li><a href="#">Runes</a></li>
                            <li><a href="#">Healing</a></li>
                            <li><a href="#">Wisdom</a></li>
                        </div>
                    </nav>
                </div>

                <div class="header-icons-flex-bx class-rel flex gap">

                    <a href="#">
                        <button class="headr-btn">
                            <ion-icon name="cart-outline"></ion-icon>
                            <span>Store</span>
                        </button>
                    </a>

                    <a href="#">
                        <button id="login_btn" class="headr-btn headr-btn2">
                            <ion-icon name="person"></ion-icon>
                            <span>Login</span>
                        </button>
                    </a>
                    
                </div>

                <button class="menu-bar-btn">
                    <i class="fa-solid fa-bars-staggered"></i>
                </button>
                
                </div>
                
            </div>
            
        </div>
     </header> -->

    <section class="top-header-comp">
        <div class="common-container3 top-header-flex flex item-between">
            <div class="left-header-logo flex item-start gap">
                <img src="./images/astrology.png" alt="">

                <h6>Astro Nivesh</h6>

            </div>

            <div class="right-top-header-flex-bx flex item-start gap">

                <!-- <div class="top-hedr-bx flex item-center">
                    <div class="left-hedr-icon">
                        <ion-icon name="home"></ion-icon>
                    </div>
                    <div class="right-hedr-inof">
                        <h6>Reach Us</h6>
                        <span>601 , Ram Nagar Dewas</span>
                    </div>
                </div> -->

                <div class="top-hedr-bx flex item-center">
                    <div class="left-hedr-icon">
                        <ion-icon name="call"></ion-icon>
                    </div>
                    <div class="right-hedr-inof">
                        <h6>Talk to Us</h6>
                        <span>+91-9376241408</span>
                    </div>
                </div>


                <button class="menu-bar-btn">
                    <ion-icon name="menu"></ion-icon>
                </button>


                <!-- <div class="cart-bx cart-bx2">
                    <button class="cart-btn cart-btn2">
                        <span class="qty">4</span>
                        <ion-icon name="bag"></ion-icon>
                    </button>

                    <div class="cart-lists-bx cart-lists-bx-mob">

                        <li>
                            <div class="item-img">
                                <img src="./images/astro-book.jpg" alt="">
                            </div>
                            <div class="item-info">
                                <h6>Astro Book</h6>
                                <p>Quantity : 2 x $45</p>

                                <h5>$90</h5>
                            </div>
                            <div class="delet-item-btn">
                                <ion-icon name="trash"></ion-icon>
                            </div>
                        </li>


                        <li>
                            <div class="item-img">
                                <img src="./images/astro-book.jpg" alt="">
                            </div>
                            <div class="item-info">
                                <h6>Astro Book</h6>
                                <p>Quantity : 2 x $45</p>

                                <h5>$90</h5>
                            </div>

                            <div class="delet-item-btn">
                                <ion-icon name="trash"></ion-icon>
                            </div>

                        </li>


                        <li>
                            <div class="item-img">
                                <img src="./images/astro-book.jpg" alt="">
                            </div>
                            <div class="item-info">
                                <h6>Astro Book</h6>
                                <p>Quantity : 2 x $45</p>

                                <h5>$90</h5>
                            </div>
                            <div class="delet-item-btn">
                                <ion-icon name="trash"></ion-icon>
                            </div>
                        </li>

                        <button class="apnt-btn chckout-btn">
                            Check Out
                        </button>

                    </div>

                </div> -->

                <button class="apnt-btn" onclick="window.location.href='appointments.html'">
                   Talk to Astrologer
                </button>

                <div class="profile-bx" id="login_btn">
                    <ion-icon name="person-circle-outline" size="large" color="#fe7000"></ion-icon>
                    <p id="profile-name">LogIn / Reg.</p>
                </div>

            </div>

        </div>
    </section>
    <style>
        .coming-soon {
            filter: grayscale(5);
        }

        .coming-soon .card-info {
            color: #ffffff;
            display: none;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
            overflow: visible;
            border-radius: .7rem;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 3;
            background: #dcdcdc;
            transition: ease-in-out
        }

        .coming-soon:hover .card-info {
            color: white;
            transition: color 1s;
            display: flex;
            transition: ease-in-out;
        }

        .coming-soon .card-info p {
            color: white;
        }

        .page-title {
            text-align: center;
            margin-bottom: 2rem;
        }
    </style>


    <header class="header">
        <div class="common-container3 header-flex flex item-between gap">

            <div class="nav-overlay"></div>
            <div class="navbar">

                <button class="close-nav-btn">
                    <ion-icon name="close-circle"></ion-icon>
                </button>

                <div class="left-header-logo flex item-start gap mob-logo">
                    <img src="./images/astrology.png" alt="">

                    <h6>Astro Nivesh</h6>

                </div>

                <div class="search-inpt-bx search-inpt-bx-mob">
                    <input type="text" name="search" id="search" placeholder="Search here...">
                    <button class="search-btn">
                        <ion-icon name="search"></ion-icon>
                    </button>
                </div>

                <nav class="nav">
                    <div class="nav-lists flex item-start">
                        <li><a href="home.html">Home</a></li>
                        <li><a href="kundali.html">Kundali</a></li>
                        <li><a href="market.html">Market</a></li>
                        <li><a href="https://wa.me/9376241408">Talk to Astrologer</a></li>
                    </div>
                </nav>

                <div class="astrology-cont-info">

                    <div class="top-hedr-bx flex item-center">
                        <div class="left-hedr-icon">
                            <ion-icon name="home"></ion-icon>
                        </div>
                        <div class="right-hedr-inof">
                            <h6>Reach Us</h6>
                            <span>601 , Ram Nagar Dewas</span>
                        </div>
                    </div>

                    <div class="top-hedr-bx flex item-center">
                        <div class="left-hedr-icon">
                            <ion-icon name="call"></ion-icon>
                        </div>
                        <div class="right-hedr-inof">
                            <h6>Talk to Us</h6>
                            <span>+91-9376241408</span>
                        </div>
                    </div>

                </div>


                <button class="apnt-btn apnt-btn-mob" onclick="window.location.href='appointments.html'">
                   Talk to Astrologer
                </button>

            </div>

            <div class="right-header-flex flex item-start ">
                <div class="search-inpt-bx">
                    <input type="text" name="search" id="search" placeholder="Search here...">
                    <button class="search-btn">
                        <ion-icon name="search"></ion-icon>
                    </button>
                </div>


                <!-- <div class="cart-bx">
                    <button class="cart-btn">
                        <span class="qty">4</span>
                        <ion-icon name="bag"></ion-icon>
                    </button>

                    <div class="cart-lists-bx">

                        <li>
                            <div class="item-img">
                                <img src="./images/astro-book.jpg" alt="">
                            </div>
                            <div class="item-info">
                                <h6>Astro Book</h6>
                                <p>Quantity : 2 x $45</p>

                                <h5>$90</h5>
                            </div>
                            <div class="delet-item-btn">
                                <ion-icon name="trash"></ion-icon>
                            </div>
                        </li>


                        <li>
                            <div class="item-img">
                                <img src="./images/astro-book.jpg" alt="">
                            </div>
                            <div class="item-info">
                                <h6>Astro Book</h6>
                                <p>Quantity : 2 x $45</p>

                                <h5>$90</h5>
                            </div>

                            <div class="delet-item-btn">
                                <ion-icon name="trash"></ion-icon>
                            </div>

                        </li>


                        <li>
                            <div class="item-img">
                                <img src="./images/astro-book.jpg" alt="">
                            </div>
                            <div class="item-info">
                                <h6>Astro Book</h6>
                                <p>Quantity : 2 x $45</p>

                                <h5>$90</h5>
                            </div>
                            <div class="delet-item-btn">
                                <ion-icon name="trash"></ion-icon>
                            </div>
                        </li>

                        <button class="apnt-btn chckout-btn">
                            Check Out
                        </button>

                    </div>

                </div> -->



            </div>

        </div>
    </header>

    <!-- _______________________
       Our Login Reg Comp 
       ------------------ -->

    <section class="login-reg-comp">

        <div class="login-bx ">

            <button class="close-form-btn">
                <i class="fa-solid fa-xmark"></i>
            </button>

            <div class="login-info">

                <button type="button" class="form-btn form-btn2" id="newAcnt">
                    Create Account
                </button>
            </div>

            <div class="reg-info">
                <button class="form-btn  form-btn3" type="button" id="signInBtn">
                    I Already Have Account
                </button>

            </div>
            <div class="profile-info">
                <div class="login-logo">
                    <img src="./images/astrology.png" alt="">
                </div>
                <div class="comn-heading">
                    <h4>Astro Nivesh</h4>
                </div>

                <div id="profile-body"></div>
                <a style=" display: flex; align-items: center; justify-content: center;  font-size: 18px; padding-top: 1rem;"
                    href="profile.html"><i class="fa-solid fa-user" style="margin-right: 10px;"></i>My Profile</a>
                <div class="logout-bx" id="logoutBox">
                    <p><ion-icon name="log-out"></ion-icon>Log Out</p>
                </div>
            </div>

        </div>

    </section>

    <!-- body section -->

    <section class="why-astrologer-comp">
        <div class="common-container3">

            <div class="comn-heading">
                <h3>Appointments</h3>
            </div>

            <!-- Plan Selection Cards -->
            <div class="appoint-plan" id="planSelection">

            </div>

            <style>
                #calendar {
                    display: grid;
                    grid-template-columns: repeat(7, 1fr);
                    gap: 5px;
                }

                #calendar div {
                    padding: 10px;
                    background-color: #f0f0f0;
                    text-align: center;
                    cursor: pointer;
                }

                #calendar div:hover {
                    background-color: #fe7000;
                    color: white;
                }

                #calendar .selected {
                    background-color: #fe7000;
                    color: white;
                }
            </style>

            <!-- Appointment Form -->
            <div class="appointment-calender" id="appointmentForm" style="display: none;">
                <p>Plan : <span id="selectedPlan">-</span></p>
                <p>Amount : ₹ <span id="selectedPrice">-</span></p>
                <p>Time : <span id="selectedDuration">-</span></p>

                <form onsubmit="handleCreate(event)">
                    <div class="home-input-box">
                        <div class="calendar-box">
                            <p id="selectedDate" style="margin-bottom: 10px;">Choose Date</p>
                            <div id="calendar"></div>
                        </div>
                        <div class="time-box">
                            <p>Choose your Prefered Time</p>
                            <div class="home-input-box">
                                <div class="inpt-bx">
                                    <label for="startTime">Start Time</label>
                                    <div class="inpt">
                                        <input type="text" id="startTime" name="startTime" class="time-picker"
                                            placeholder="Select Time" required>
                                    </div>
                                </div>
                                <div class="inpt-bx">
                                    <label for="endTime">End Time</label>
                                    <div class="inpt">
                                        <input type="text" id="endTime" name="endTime" class="time-picker"
                                            placeholder="Select Time" required>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-btns-flex">
                        <button class="form-btn" type="submit">Book Appointment</button>
                        <button class="form-btn" type="button" onclick="cancelSelection()"
                            style="background-color: #cccccc00; color: #000;">Cancel</button>
                    </div>
                </form>
            </div>

        </div>
    </section>


    <!-- ____________________________
          Our Footer Comp 
          -------------------- -->

    <footer class="footer-comp">
        <div class="common-container3">

            <div class="footer-flex-bx">

                <div class="left-footer-bx">

                    <div class="left-header-logo flex item-start gap">
                        <img src="./images/astrology.png" alt="">

                        <h6>Astro Nivesh</h6>


                    </div>




                    <p>
                        Astro Nivesh is best astrology website for online Astrology predictions. Talk to Astrologer on
                        call and get answers to all your worries by seeing the future life through Astrology Kundli
                        Predictions from the best Astrologers from India. Get best future predictions related to
                        Marriage, love life, Career or Health over call, chat, query or report.
                    </p>

                </div>


                <div class="right-footer-bx">

                    <div class="footer-bx">
                        <h6>Corporate Info</h6>
                        <div class="footer-li">
                            <li><a href="aboutus.html">About Us</a></li>
                            <li><a href="contactus.html">Contact Us</a></li>
                            <li><a href="termsconditions.html">Terms & Conditions</a></li>
                            <li><a href="privacypolicy.html">Privacy Policy</a></li>
                            <!-- <li><a href="shippingpolicy.html">Shipping Policy</a></li> -->
                            <li><a href="refundpolicy.html">Refund Policy</a></li>
                        </div>
                    </div>


                    <div class="footer-bx">
                        <h6>Contact Info</h6>
                        <div class="footer-li">
                            <li><a href="#"> We are available 24x7 on chat support</a></li>
                            <li><a href="#">Email ID: contact@astronivesh.com</a></li>

                            <div class="soc-icons-flex">
                                <a href="#">
                                    <ion-icon name="logo-facebook"></ion-icon>
                                </a>
                                <a href="#">
                                    <ion-icon name="logo-instagram"></ion-icon>
                                </a>
                                <a href="#">
                                    <ion-icon name="logo-linkedin"></ion-icon>
                                </a>
                                <a href="#">
                                    <ion-icon name="logo-youtube"></ion-icon>
                                </a>
                            </div>

                        </div>
                    </div>


                </div>

            </div>

            <div class="copyright-bx">
                <p>Copyright 2025 Astro Nivesh (This website is owned and managed by Shriram Lalasaheb Magar) | All
                    Rights Reserved | Dev. By: <a href="https://digitaldezire.com/">Digital Dezire</a></p>
            </div>
        </div>
    </footer>
    <style>
        .feature-title {
            text-align: center;
            padding-bottom: 2rem;
            margin-top: 1rem;
        }

        .feature-title p {
            color: white;
            font-size: 12px;
            font-weight: 300;
            padding: 1rem;
            border: 1px solid white;
            border-radius: 25px;
        }

        .payment-plan-box {
            padding-bottom: 0;
        }

        .payment-features-box {
            background-color: #f0f0f0;
            border-radius: 0px 0px 8px 8px;
            margin: 0 10px 10px 10px;
            padding: 1rem;
        }

        .payment-features-head {
            text-align: center;
            margin-bottom: 1rem;
        }

        .payment-features-head h6 {
            color: #fe7000;
            text-align: center;
            font-size: 18px;
            border-bottom: 1px solid #fe7000;
        }

        .payment-features-body {
            text-align: center;
        }

        .payment-features-body h6 {
            /* color: #fe7000; */
            text-align: center;
            font-size: 16px;
            /* margin-top: 1rem; */
        }

        .payment-features-body p {
            /* color: #fe7000; */
            text-align: center;
            font-size: 14px;
            font-weight: 300;
        }

        .payment-features-body img {
            width: 10%;
            object-fit: cover;
            margin-top: 2rem;
        }
    </style>
    <script>
        const host = "https://api.astronivesh.com";
        const token = localStorage.getItem("token");
        if (!token) {
            window.location.href = "./index.html";
        }
        async function fetchAllData() {
            try {
                const response = await fetch(`${host}/api/auth/getuser`, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                        "auth-token": token
                    }
                });

                if (!response.ok == true) {
                    throw new Error("Failed to fetch data");
                }

                const data = await response.json();
                // console.log(data, "data")
                populatePTable(data)
                populateName(data)
                // localStorage.setItem("admin_id", (data.map((entry) => (entry._id))))
            } catch (error) {
                console.error(error);
                // alert("Error fetching data: " + error.message);
            }
        }

        function populatePTable(data) {
            const tableBody = document.getElementById("profile-body");
            tableBody.innerHTML = "";

            tableBody.innerHTML = `
            <div class="profile-desc">
                <h4>${data.name}</h4>
            </div>
             
            `
        }
        function populateName(data) {
            const tableBody = document.getElementById("profile-name");
            tableBody.innerHTML = "";

            tableBody.innerHTML = `
            <p>${data.name}</p>
             
            `
        }

        // async function fetchData() {
        //     try {
        //         const response = await fetch(`${host}/api/admindetail/all`);
        //         const data = await response.json();
        //         const plans = data[0]?.plan;

        //         const planContainer = document.getElementById("planSelection");
        //         planContainer.innerHTML = ""; // Clear existing content

        //         plans.forEach(p => {
        //             const card = `
        //         <div class="appoint-card" onclick="selectPlan('${p.plan}', ${p.price}, '${p.duration} min')">
        //             <div class="payment-plan-box">
        //                 <div class="payment-plan-head">
        //                     <h6>${p.plan}</h6>
        //                 </div>
        //                 <div class="payment-plan-body">
        //                     <div class="payment-price">
        //                         <p>₹</p>
        //                         <h5>${p.price}</h5>
        //                     </div>
        //                     <div class="payment-plan-body-box">
        //                         <p>/ Per user</p>
        //                         <p>/ ${p.duration} min</p>
        //                     </div>
        //                 </div>
        //             </div>
        //             <button class="form-btn" type="button">Book Appointment</button>
        //         </div>
        //     `;
        //             planContainer.innerHTML += card;
        //         });

        //     } catch (error) {
        //         console.error("Error fetching plans:", error);
        //     }
        // }

        async function fetchData() {
            try {
                const response = await fetch(`${host}/api/admindetail/all`);
                const data = await response.json();
                const plans = data[0]?.plan || [];

                const container = document.getElementById('planSelection');
                container.innerHTML = '';

                plans.forEach((p, index) => {

                    // Static features per plan index
                    const staticFeatures = [
                        {
                            description: 'Any one aspect of your life',
                            featuresHTML: `
                        <img src="./images/appointment/salary.png" alt="">
                        <h6>Affordable</h6>
                        <p>Excellent budget-friendly option.</p>
                        <img src="./images/appointment/loupe.png" alt="">
                        <h6>Concise</h6>
                        <p>Provide clear and succinct information.</p>
                        <img src="./images/appointment/stopwatch.png" alt="">
                        <h6>Quick Delivery</h6>
                        <p>Designed for rapid answers to your questions.</p>
                    `
                        },
                        {
                            description: 'Complete analysis of family/relationships',
                            featuresHTML: `
                        <img src="./images/appointment/research.png" alt="">
                        <h6>Deep Analysis</h6>
                        <p>In-depth insights through natal charts.</p>
                        <img src="./images/appointment/censored.png" alt="">
                        <h6>Confidentiality</h6>
                        <p>Secure and private discussions</p>
                        <img src="./images/appointment/stopwatch.png" alt="">
                        <h6>Quick Delivery</h6>
                        <p>Detail reading. Timely replies.</p>
                    `
                        }
                    ];

                    // Fallback if index is out of range
                    const { description, featuresHTML } = staticFeatures[index] || staticFeatures[0];

                    const cardHTML = `
                <div class="appoint-card">
                    <div class="payment-plan-box">
                        <div class="payment-plan-head">
                            <h6>${p.plan}</h6>
                        </div>
                        <div class="payment-plan-body">
                            <div class="payment-price">
                                <span></span>
                                <p></p>
                                <h5><del>₹${p.slprice} </del>&nbsp; ₹${p.price}</h5>
                            </div>
                            <div class="payment-plan-body-box">
                                <p>/ Per user</p>
                                <p>/ ${p.duration} min</p>
                            </div>
                        </div>
                        <div class="feature-title">
                            <p>${description}</p>
                        </div>
                    </div>
                    <div class="payment-features-box">
                        <div class="payment-features-head">
                            <h6>Features</h6>
                        </div>
                        <div class="payment-features-body">
                            ${featuresHTML}
                        </div>
                    </div>
                    <button class="form-btn" type="button" onclick="selectPlan('${p.plan}', ${p.price}, '${p.duration} min')">Book Appointment</button>
                </div>
            `;

                    container.innerHTML += cardHTML;
                });

            } catch (error) {
                console.error('Error fetching plans:', error);
            }
        }

        document.addEventListener("DOMContentLoaded", function () {
            // console.log(token, "token")
            const loginForm = document.querySelector(".login-info");
            const regInfo = document.querySelector(".reg-info");
            const profileInfo = document.querySelector(".profile-info");

            if (token) {
                // User is logged in, show profile and hide login/signup forms
                loginForm.style.display = "none";
                regInfo.style.display = "none";
                profileInfo.style.display = "block";
            } else {
                // User is not logged in, show login/signup forms
                loginForm.style.display = "block";
                regInfo.style.display = "block";
                profileInfo.style.display = "none";
            }

            // Logout functionality
            const logoutBox = document.getElementById("logoutBox");
            if (logoutBox) {
                logoutBox.addEventListener("click", function () {
                    localStorage.removeItem("token");
                    localStorage.removeItem('params');
                    location.reload();
                    // window.location.href = "./index.html";
                });
            }
        });
    </script>

    <script>
        function selectPlan(planName, price, duration) {
            document.getElementById('planSelection').style.display = 'none';
            document.getElementById('appointmentForm').style.display = 'block';

            document.getElementById('selectedPlan').innerText = planName;
            document.getElementById('selectedPrice').innerText = price;
            document.getElementById('selectedDuration').innerText = duration;
        }

        function cancelSelection() {
            // Show plans again
            document.getElementById('planSelection').style.display = 'flex';
            document.getElementById('appointmentForm').style.display = 'none';

            // Optional: reset selected values if needed
            document.getElementById('selectedPlan').innerText = '-';
            document.getElementById('selectedPrice').innerText = '-';
            document.getElementById('selectedDuration').innerText = '-';

            // Also reset the form inputs if you want
            document.querySelector('#appointmentForm form').reset();
        }
        function generateCalendar() {
            const calendar = document.getElementById("calendar");
            calendar.innerHTML = '';
            const date = new Date();
            const year = date.getFullYear();
            const month = date.getMonth();

            // Get first and last days
            const firstDay = new Date(year, month, 1).getDay(); // Day of week (0-6)
            const daysInMonth = new Date(year, month + 1, 0).getDate();

            // Add empty boxes for first day padding
            for (let i = 0; i < firstDay; i++) {
                const emptyCell = document.createElement("div");
                calendar.appendChild(emptyCell);
            }

            // Add actual days
            for (let day = 1; day <= daysInMonth; day++) {
                const dayCell = document.createElement("div");
                dayCell.textContent = day;
                dayCell.onclick = function () {
                    document.querySelectorAll("#calendar div").forEach(el => el.classList.remove("selected"));
                    this.classList.add("selected");

                    const selectedDate = new Date(year, month, day);
                    document.getElementById("selectedDate").textContent = `Selected: ${selectedDate.toDateString()}`;
                };
                calendar.appendChild(dayCell);
            }
        }

        function handleCreate(event) {
            event.preventDefault(); // Prevent actual form submission

            // Get selected plan data
            const plan = document.getElementById("selectedPlan").textContent;
            const price = document.getElementById("selectedPrice").textContent;
            const duration = document.getElementById("selectedDuration").textContent;

            // Get selected date and times
            const dateText = document.getElementById("selectedDate").textContent;
            const date = dateText.replace("Selected: ", "").trim();
            const startTime = document.getElementById("startTime").value;
            const endTime = document.getElementById("endTime").value;
            console.log(plan,
                price,
                duration,
                date,
                startTime,
                endTime, "dsta")

            // Construct query string
            const appointmentData = new URLSearchParams({
                plan,
                price,
                duration,
                date,
                startTime,
                endTime
            });
            console.log(appointmentData, "appointmentData")

            // Redirect to checkout page with query parameters
            window.location.href = `checkout.html?${appointmentData.toString()}`;
        }

        // Populate table on page load
        window.onload = async () => {
            fetchAllData()
            generateCalendar()
            fetchData()
        };
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            flatpickr("#startTime", {
                enableTime: true,
                noCalendar: true,
                dateFormat: "h:i K",
                time_24hr: false
            });

            flatpickr("#endTime", {
                enableTime: true,
                noCalendar: true,
                dateFormat: "h:i K",
                time_24hr: false
            });

            flatpickr("#calendarInput", {
                dateFormat: "Y-m-d",
                maxDate: "2025-12-31",
                enableTime: false
            });
        });
    </script>


    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <!-- Swiper Js file -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <!-- script file -->
    <script src="./js/index.js"></script>

</body>

</html>