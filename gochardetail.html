<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Gochar | Astro Nivesh</title>
    <!-- swiper slider css CDN -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css"
        integrity="sha512-5Hs3dF2AEPkpNAR7UiOHba+lRSJNeM2ECkwxUIxC1Q/FLycGTbNapWXB4tP889k5T5Ju8fs4b1P5z/iB4nMfSQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Tempus Dominus CSS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="icon" href="/images/astrology.png" />
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZF2CQTE5JG"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-ZF2CQTE5JG');
    </script>
    <script src="https://cdn.pagesense.io/js/astronivesh/b70b9482d2454a09ac5feadc3675f35c.js"></script>

</head>

<body>
    <!-- __________________________________ 
     Our header Comp 
     ------------------------ -->
    <!-- 
     <header class="header-comp">
        <div class="common-container3">

            <div class="header-flex-bx flex item-between">

                <div class="left-header-logo flex item-start gap">
                    <img src="./images/astrology.png" alt="">

                    <h6>Astro Nivesh</h6>
                    
                </div>

                <div class="right-navbar class-rel flex item-start gap">
                    <div class="navbar class-rel">
                    <nav class="nav class-rel">
                        <div class="nav-lists flex item-start">
                            <li><a href="#">Calendar</a></li>
                            <li><a href="#">Market</a></li>
                            <li><a href="#">Kundali</a></li>
                            <li><a href="#">Affirmations</a></li>
                            <li><a href="#">Runes</a></li>
                            <li><a href="#">Healing</a></li>
                            <li><a href="#">Wisdom</a></li>
                        </div>
                    </nav>
                </div>

                <div class="header-icons-flex-bx class-rel flex gap">

                    <a href="#">
                        <button class="headr-btn">
                            <ion-icon name="cart-outline"></ion-icon>
                            <span>Store</span>
                        </button>
                    </a>

                    <a href="#">
                        <button id="login_btn" class="headr-btn headr-btn2">
                            <ion-icon name="person"></ion-icon>
                            <span>Login</span>
                        </button>
                    </a>
                    
                </div>

                <button class="menu-bar-btn">
                    <i class="fa-solid fa-bars-staggered"></i>
                </button>
                
                </div>
                
            </div>
            
        </div>
     </header> -->

    <section class="top-header-comp">
        <div class="common-container3 top-header-flex flex item-between">
            <div class="left-header-logo flex item-start gap" onclick="window.location.href='home.html'">
                <img src="./images/astrology.png" alt="">

                <h6>Astro Nivesh</h6>

            </div>

            <div class="right-top-header-flex-bx flex item-start gap">

                <!-- <div class="top-hedr-bx flex item-center">
                    <div class="left-hedr-icon">
                        <ion-icon name="home"></ion-icon>
                    </div>
                    <div class="right-hedr-inof">
                        <h6>Reach Us</h6>
                        <span>601 , Ram Nagar Dewas</span>
                    </div>
                </div> -->

                <div class="top-hedr-bx flex item-center">
                    <div class="left-hedr-icon">
                        <ion-icon name="call"></ion-icon>
                    </div>
                    <div class="right-hedr-inof">
                        <h6>Talk to Us</h6>
                        <span>+91-8421616117</span>
                    </div>
                </div>


                <button class="menu-bar-btn">
                    <ion-icon name="menu"></ion-icon>
                </button>

                <div class="cart-bx cart-bx2">
                    <button class="cart-btn cart-btn2" onclick="goToCart()">
                        <span class="qty" id="cart-count2">0</span>
                        <ion-icon name="bag"></ion-icon>
                    </button>
                </div>

                <button class="apnt-btn" onclick="window.location.href='appointments.html'">
                    Talk to Astrologer
                </button>

                <div class="profile-bx" id="login_btn">
                    <ion-icon name="person-circle-outline" size="large" color="#fe7000"></ion-icon>
                    <p id="profile-name">LogIn / Reg.</p>
                </div>

            </div>

        </div>
    </section>


    <header class="header">
        <div class="common-container3 header-flex flex item-between gap">

            <div class="nav-overlay"></div>
            <div class="navbar">

                <button class="close-nav-btn">
                    <ion-icon name="close-circle"></ion-icon>
                </button>

                <div class="left-header-logo flex item-start gap mob-logo" onclick="window.location.href='home.html'">
                    <img src="./images/astrology.png" alt="">

                    <h6>Astro Nivesh</h6>

                </div>

                <div class="search-inpt-bx search-inpt-bx-mob">
                    <input type="text" name="search" id="search" placeholder="Search here...">
                    <button class="search-btn">
                        <ion-icon name="search"></ion-icon>
                    </button>
                </div>

                <nav class="nav">
                    <div class="nav-lists flex item-start">
                        <li><a href="home.html">Home</a></li>
                        <li><a href="kundali.html">Kundali</a></li>
                        <li><a href="market.html">Market</a></li>
                        <li><a href="product.html">Astro Store</a></li>
                        <li><a href="pooja.html">Pooja</a></li>
                        <li>
                            <div class="category-item">
                                <div class="category-item-box">
                                    <p>Items</p>
                                </div>
                                <div class="dropdown">
                                    <p><a href="gochar.html" style="color: black;">Gochar</a></p>
                                    <p><a href="panchang.html" style="color: black;">Panchang</a></p>
                                </div>
                            </div>
                        </li>
                    </div>
                </nav>

                <div class="astrology-cont-info">

                    <!-- <div class="top-hedr-bx flex item-center">
                        <div class="left-hedr-icon">
                            <ion-icon name="home"></ion-icon>
                        </div>
                        <div class="right-hedr-inof">
                            <h6>Reach Us</h6>
                            <span>601 , Ram Nagar Dewas</span>
                        </div>
                    </div> -->

                    <div class="top-hedr-bx flex item-center">
                        <div class="left-hedr-icon">
                            <ion-icon name="call"></ion-icon>
                        </div>
                        <div class="right-hedr-inof">
                            <h6>Talk to Us</h6>
                            <span>+91-8421616117</span>
                        </div>
                    </div>

                </div>


                <button class="apnt-btn apnt-btn-mob" onclick="window.location.href='appointments.html'">
                    Talk to Astrologer
                </button>

            </div>

            <div class="right-header-flex flex item-start ">
                <div class="search-inpt-bx">
                    <input type="text" name="search" id="search" placeholder="Search here...">
                    <button class="search-btn">
                        <ion-icon name="search"></ion-icon>
                    </button>
                </div>
                <div class="cart-bx">
                    <button class="cart-btn" onclick="goToCart()">
                        <span class="qty" id="cart-count">0</span>
                        <ion-icon name="bag"></ion-icon>
                    </button>
                </div>

            </div>

        </div>
    </header>

    <!-- _______________________
       Our Login Reg Comp 
       ------------------ -->

    <section class="login-reg-comp">

        <div class="login-bx ">

            <button class="close-form-btn">
                <i class="fa-solid fa-xmark"></i>
            </button>

            <div class="login-info">

                <div class="login-logo">
                    <img src="./images/astrology.png" alt="">
                </div>



                <div class="comn-heading">
                    <h4>Sign In to Astrology </h4>
                    <!-- <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima maxime est obcaecati.</p> -->
                </div>

                <div class="login-form">

                    <form onsubmit="handleSubmit(event)">

                        <div class="inpt-bx">
                            <label for="email">Email Address</label>
                            <div class="inpt">
                                <input type="email" id="email" name="email" placeholder="Enter your Email..."
                                    autocomplete="off" required>

                            </div>
                        </div>

                        <div class="inpt-bx">
                            <label for="email">Password</label>
                            <div class="inpt">
                                <input type="password" id="password" name="password"
                                    placeholder="Enter your password..." autocomplete="off" required>
                            </div>
                        </div>

                        <div class="form-btns-flex">

                            <button class="form-btn" type="submit">
                                Sign In
                            </button>

                            <button type="button" class="form-btn form-btn2" id="newAcnt">
                                Create Account
                            </button>

                        </div>
                        <div id="alert" class="alert"></div>


                    </form>


                </div>
            </div>

            <div class="reg-info">

                <div class="login-logo">
                    <img src="./images/astrology.png" alt="">
                </div>

                <div class="comn-heading">
                    <h4>Sign Up to Astrology </h4>
                    <!-- <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima maxime est obcaecati.</p> -->
                </div>

                <div class="login-form">
                    <form onsubmit="handleCreate(event)">

                        <div class="inpt-bx">
                            <label for="name">Name</label>
                            <div class="inpt">
                                <input type="text" name="cname" placeholder="Enter your Name" autocomplete="off"
                                    required>
                            </div>
                        </div>

                        <div class="inpt-bx">
                            <label for="name">Email</label>
                            <div class="inpt">
                                <input type="email" name="cemail" placeholder="Enter your email address..."
                                    autocomplete="off" required>
                            </div>
                        </div>

                        <div class="inpt-bx">
                            <label for="password">Create Password</label>
                            <div class="inpt">
                                <input type="text" name="ccreatepassword" placeholder="Create your password..."
                                    autocomplete="off" required>
                            </div>
                        </div>


                        <div class="inpt-bx">
                            <label for="password">Date Of Birth</label>
                            <div class="inpt">
                                <input type="text" id="calendarInput" name="calendarInput"
                                    placeholder="Choose a date" />
                            </div>
                        </div>

                        <div class="inpt-bx">
                            <label for="password">Birth Time</label>
                            <div class="inpt">
                                <input type="text" id="timePicker" name="timePicker" class="time-picker"
                                    placeholder="Select Time">
                            </div>
                        </div>
                        <div class="inpt-bx">
                            <label for="birthplace">Birth Place</label>
                            <div class="inpt">
                                <input type="text" name="birthplace" placeholder="Enter your Birth Place..."
                                    autocomplete="off" required>
                            </div>
                        </div>
                        <div class="inpt-bx">
                            <label for="consonent">Consonent of your name</label>
                            <div class="inpt">
                                <input type="text" name="consonent" placeholder="Enter your Consonent..."
                                    autocomplete="off" required>
                            </div>
                        </div>
                        <div class="inpt-bx">
                            <label for="vowel">Vowel of your name</label>
                            <div class="inpt">
                                <input type="text" name="vowel" placeholder="Enter your Vowel..." autocomplete="off"
                                    required>
                            </div>
                        </div>

                        <div class="form-btns-flex">

                            <button class="form-btn" type="submit">
                                Create Account
                            </button>

                            <button class="form-btn  form-btn3" type="button" id="signInBtn">
                                I Already Have Account
                            </button>

                        </div>

                    </form>


                </div>

            </div>
            <div class="profile-info">
                <div class="login-logo">
                    <img src="./images/astrology.png" alt="">
                </div>
                <div class="comn-heading">
                    <h4>Astro Nivesh</h4>
                </div>

                <div id="profile-body"></div>
                <a style=" display: flex; align-items: center; justify-content: center;  font-size: 18px; padding-top: 1rem;"
                    href="profile.html"><i class="fa-solid fa-user" style="margin-right: 10px;"></i>My Profile</a>
                <div class="logout-bx" id="logoutBox">
                    <p><ion-icon name="log-out"></ion-icon>Log Out</p>
                </div>
            </div>

        </div>

    </section>

    <!-- body section -->
    <style>

    </style>

    <section class="why-astrologer-comp">
        <div class="common-container3">
            <div class="comn-heading">
                <div class="gochardetail-top" id="planet-details"></div>
            </div>
            <div class="gochar-box" id="gochar-details">
            </div>
            <p id="nogochar-details"></p>
        </div>
        </div>
    </section>


    <!-- ____________________________
          Our Footer Comp 
          -------------------- -->

    <footer class="footer-comp">
        <div class="common-container3">

            <div class="footer-flex-bx">

                <div class="left-footer-bx">

                    <div class="left-header-logo flex item-start gap">
                        <img src="./images/astrology.png" alt="" onclick="window.location.href='home.html'">

                        <h6>Astro Nivesh</h6>


                    </div>




                    <p>
                        Astro Nivesh is best astrology website for online Astrology predictions. Talk to Astrologer on
                        call and get answers to all your worries by seeing the future life through Astrology Kundli
                        Predictions from the best Astrologers from India. Get best future predictions related to
                        Marriage, love life, Career or Health over call, chat, query or report.
                    </p>

                </div>


                <div class="right-footer-bx">

                    <div class="footer-bx">
                        <h6>Corporate Info</h6>
                        <div class="footer-li">
                            <li><a href="aboutus.html">About Us</a></li>
                            <li><a href="contactus.html">Contact Us</a></li>
                            <li><a href="termsconditions.html">Terms & Conditions</a></li>
                            <li><a href="privacypolicy.html">Privacy Policy</a></li>
                            <!-- <li><a href="shippingpolicy.html">Shipping Policy</a></li> -->
                            <li><a href="refundpolicy.html">Refund Policy</a></li>
                        </div>
                    </div>


                    <div class="footer-bx">
                        <h6>Contact Info</h6>
                        <div class="footer-li">
                            <li><a href="#"> We are available 24x7 on chat support</a></li>
                            <li><a href="#">Email ID: contact@astronivesh.com</a></li>

                            <div class="soc-icons-flex">
                                <a href="#">
                                    <ion-icon name="logo-facebook"></ion-icon>
                                </a>
                                <a href="https://www.instagram.com/astro_nivesh/">
                                    <ion-icon name="logo-instagram"></ion-icon>
                                </a>
                                <a href="#">
                                    <ion-icon name="logo-linkedin"></ion-icon>
                                </a>
                                <a href="https://www.youtube.com/@astronivesh">
                                    <ion-icon name="logo-youtube"></ion-icon>
                                </a>
                            </div>

                        </div>
                    </div>


                </div>

            </div>

            <div class="copyright-bx">
                <p>Copyright 2025 Astro Nivesh (This website is owned and managed by Shriram Lalasaheb Magar) | All
                    Rights Reserved | Dev. By: <a href="https://digitaldezire.com/">Digital Dezire</a></p>
            </div>
        </div>
    </footer>
    <script>
        const host = "https://api.astronivesh.com";
        const token = localStorage.getItem("token");
        async function fetchAllData() {
            try {
                const response = await fetch(`${host}/api/auth/getuser`, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                        "auth-token": token
                    }
                });

                if (!response.ok == true) {
                    throw new Error("Failed to fetch data");
                }

                const data = await response.json();
                // console.log(data, "data")
                populatePTable(data)
                populateName(data)
                // localStorage.setItem("admin_id", (data.map((entry) => (entry._id))))
            } catch (error) {
                console.error(error);
                // alert("Error fetching data: " + error.message);
            }
        }

        function populatePTable(data) {
            const tableBody = document.getElementById("profile-body");
            tableBody.innerHTML = "";

            tableBody.innerHTML = `
            <div class="profile-desc">
                <h4>${data.name}</h4>
            </div>
             
            `
        }
        function populateName(data) {
            const tableBody = document.getElementById("profile-name");
            tableBody.innerHTML = "";

            tableBody.innerHTML = `
            <p>${data.name}</p>
             
            `
        }
        document.addEventListener("DOMContentLoaded", function () {
            // console.log(token, "token")
            const loginForm = document.querySelector(".login-info");
            const regInfo = document.querySelector(".reg-info");
            const profileInfo = document.querySelector(".profile-info");

            if (token) {
                // User is logged in, show profile and hide login/signup forms
                loginForm.style.display = "none";
                regInfo.style.display = "none";
                profileInfo.style.display = "block";
            } else {
                // User is not logged in, show login/signup forms
                loginForm.style.display = "block";
                regInfo.style.display = "block";
                profileInfo.style.display = "none";
            }

            // Logout functionality
            const logoutBox = document.getElementById("logoutBox");
            if (logoutBox) {
                logoutBox.addEventListener("click", function () {
                    localStorage.removeItem("token");
                    localStorage.removeItem('params');
                    location.reload();
                    // window.location.href = "./index.html";
                });
            }
        });

        // Extract planet name from URL
        const urlParams = new URLSearchParams(window.location.search);
        const planet = urlParams.get('planet');

        // Example: Display planet info
        if (planet) {
            // document.getElementById('planet-title').textContent = planet;
            console.log(planet, "planet")
            // You can fetch or show more info based on the planet here
        }

        const planetData = {
            sun: {
                name: "Sun",
                image: "/images/Planets/sun.png",
                description: "The Sun represents the soul, authority, ego, vitality, and leadership. It governs confidence and self-expression."
            },
            moon: {
                name: "Moon",
                image: "/images/Planets/moon.png",
                description: "The Moon symbolizes emotions, mind, mother, and intuition. It reflects how you feel and respond emotionally."
            },
            mars: {
                name: "Mars",
                image: "/images/Planets/mars.png",
                description: "Mars represents energy, courage, aggression, passion, and action. It is the planet of war and strength."
            },
            mercury: {
                name: "Mercury",
                image: "/images/Planets/mercury.png",
                description: "Mercury governs communication, intellect, analytical thinking, and commerce. It controls how you speak and reason."
            },
            jupiter: {
                name: "Jupiter",
                image: "/images/Planets/jupiter.png",
                description: "Jupiter is the planet of wisdom, spirituality, growth, and good fortune. It represents expansion and knowledge."
            },
            venus: {
                name: "Venus",
                image: "/images/Planets/venus.png",
                description: "Venus symbolizes love, beauty, relationships, luxury, and artistic pleasures. It governs attraction and comfort."
            },
            saturn: {
                name: "Saturn",
                image: "/images/Planets/saturn.png",
                description: "Saturn is the planet of discipline, responsibility, karma, and delays. It teaches lessons through hard work and restriction."
            },
            rahu: {
                name: "Rahu",
                image: "/images/Planets/ascending.png",
                description: "Rahu represents illusion, obsession, materialism, and worldly desires. It brings sudden gains and unconventional behavior."
            },
            ketu: {
                name: "Ketu",
                image: "/images/Planets/ketu.png",
                description: "Ketu signifies spirituality, detachment, past life karma, and inner wisdom. It brings enlightenment and separation from materialism."
            }
        };

        // Render planet data
        if (planet && planetData[planet]) {
            const data = planetData[planet];
            document.getElementById('planet-details').innerHTML = `
            <img src="${data.image}" alt="${planet}">
            <div class="gochardetail-title">
                <h3>${planet}</h3>
                <p>${data.description}</p>
            </div>
    `;
            fetchGochar(planet)
            async function fetchGochar(planet) {
                try {
                    const response = await fetch(`${host}/api/admindetail/all`);
                    const data = await response.json();

                    if (!Array.isArray(data) || data.length === 0 || !data[0].gochar || !Array.isArray(data[0].gochar)) {
                        throw new Error("Invalid data format: 'gochar' is missing or not an array.");
                    }

                    let gocharData = data[0].gochar;
                    const filterData = gocharData.filter((i) => i.planet_name?.toLowerCase() === planet.toLowerCase());
                    // console.log(filterData, "filterData");
                    if (filterData.length > 0) {
                        const detailContainer = document.getElementById('gochar-details');
                        // document.getElementById('planet-title').textContent = planet.charAt(0).toUpperCase() + planet.slice(1);
                        const today = new Date().toISOString().split("T")[0]; // Get current date in 'YYYY-MM-DD' format

                        detailContainer.innerHTML = filterData.map(item => {
                            const isToday = today >= item.date_of_entry && today <= item.date_of_exit;
                            console.log(isToday, "isToday");
                            return `
        <div class="gochar-card" style="${isToday ? 'background-color: #ffddcc; color: white' : ''} ">
            <p><strong>Rashi:</strong> ${item.rashi}</p>
            <p><strong>Nakshatra:</strong> ${item.nakshatra}</p>
            <p><strong>Combust:</strong> ${item.combust}</p>
            <p><strong>Motion:</strong> ${item.motion}</p>
            <p><strong>Pada:</strong> ${item.pada}</p>
        </div>
    `}).join('');
                    } else {
                        document.getElementById('nogochar-details').innerHTML = `<p>No data found for ${planet}</p>`;
                    }
                } catch {
                    console.log("error")
                }
            }
        }
    </script>

    <script>
        // Populate table on page load
        window.onload = async () => {
            fetchAllData()
        };
    </script>


    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <!-- Swiper Js file -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <!-- script file -->
    <script src="./js/index.js"></script>

</body>

</html>